#include "Copter_acc.h"
#include "Copter_acc_types.h"
#include "rtwtypes.h"
#include "mwmathutil.h"
#include <string.h>
#include <emmintrin.h>
#include "Copter_acc_private.h"
#include <math.h>
#include <stdio.h>
#include "slexec_vm_simstruct_bridge.h"
#include "slexec_vm_zc_functions.h"
#include "slexec_vm_lookup_functions.h"
#include "slsv_diagnostic_codegen_c_api.h"
#include "simtarget/slSimTgtMdlrefSfcnBridge.h"
#include "simstruc.h"
#include "fixedpoint.h"
#define CodeFormat S-Function
#define AccDefine1 Accelerator_S-Function
#include "simtarget/slAccSfcnBridge.h"
real_T Copter_acc_rt_TDelayInterpolate ( real_T tMinusDelay , real_T tStart ,
real_T * uBuf , int_T bufSz , int_T * lastIdx , int_T oldestIdx , int_T
newIdx , real_T initOutput , boolean_T discrete , boolean_T
minorStepAndTAtLastMajorOutput ) { int_T i ; real_T yout , t1 , t2 , u1 , u2
; real_T * tBuf = uBuf + bufSz ; if ( ( newIdx == 0 ) && ( oldestIdx == 0 )
&& ( tMinusDelay > tStart ) ) return initOutput ; if ( tMinusDelay <= tStart
) return initOutput ; if ( ( tMinusDelay <= tBuf [ oldestIdx ] ) ) { if ( discrete ) { return ( uBuf [ oldestIdx ] ) ; } else { int_T tempIdx = oldestIdx + 1 ; if ( oldestIdx == bufSz - 1 ) tempIdx = 0 ; t1 = tBuf [ oldestIdx ] ; t2 = tBuf [ tempIdx ] ; u1 = uBuf [ oldestIdx ] ; u2 = uBuf [ tempIdx ] ; if ( t2 == t1 ) { if ( tMinusDelay >= t2 ) { yout = u2 ; } else { yout = u1 ; } } else { real_T f1 = ( t2 - tMinusDelay ) / ( t2 - t1 ) ; real_T f2 = 1.0 - f1 ; yout = f1 * u1 + f2 * u2 ; } return yout ; } } if ( minorStepAndTAtLastMajorOutput ) { if ( newIdx != 0 ) { if ( * lastIdx == newIdx ) { ( * lastIdx ) -- ; } newIdx -- ; } else { if ( * lastIdx == newIdx ) { * lastIdx = bufSz - 1 ; } newIdx = bufSz - 1 ; } } i = * lastIdx ; if ( tBuf [ i ] < tMinusDelay ) { while ( tBuf [ i ] < tMinusDelay ) { if ( i == newIdx ) break ; i = ( i < ( bufSz - 1 ) ) ? ( i + 1 ) : 0 ; } } else { while ( tBuf [ i ] >= tMinusDelay ) { i = ( i > 0 ) ? i - 1 : ( bufSz - 1 ) ; } i = ( i < ( bufSz - 1 ) ) ? ( i + 1 ) : 0 ; } * lastIdx = i ; if ( discrete ) { double tempEps = ( DBL_EPSILON ) * 128.0 ; double localEps = tempEps * muDoubleScalarAbs ( tBuf [ i ] ) ; if ( tempEps > localEps ) { localEps = tempEps ; } localEps = localEps / 2.0 ; if ( tMinusDelay >= ( tBuf [ i ] - localEps ) ) { yout = uBuf [ i ] ; } else { if ( i == 0 ) { yout = uBuf [ bufSz - 1 ] ; } else { yout = uBuf [ i - 1 ] ; } } } else { if ( i == 0 ) { t1 = tBuf [ bufSz - 1 ] ; u1 = uBuf [ bufSz - 1 ] ; } else { t1 = tBuf [ i - 1 ] ; u1 = uBuf [ i - 1 ] ; } t2 = tBuf [ i ] ; u2 = uBuf [ i ] ; if ( t2 == t1 ) { if ( tMinusDelay >= t2 ) { yout = u2 ; } else { yout = u1 ; } } else { real_T f1 = ( t2 - tMinusDelay ) / ( t2 - t1 ) ; real_T f2 = 1.0 - f1 ; yout = f1 * u1 + f2 * u2 ; } } return ( yout ) ; } boolean_T rt_TDelayUpdateTailOrGrowBuf ( int32_T * bufSzPtr , int32_T * tailPtr , int32_T * headPtr , int32_T * lastPtr , real_T tMinusDelay , real_T * * uBufPtr , boolean_T isfixedbuf , boolean_T istransportdelay , int32_T * maxNewBufSzPtr ) { real_T * tBuf ; real_T * tempU ; real_T * tempX ; real_T * uBuf ; real_T * xBuf ; int32_T bufSz ; int32_T numBuffer ; int32_T tail ; int32_T testIdx ; boolean_T success ; success = true ; tail = * tailPtr ; bufSz = * bufSzPtr ; tBuf = & ( * uBufPtr ) [ bufSz ] ; xBuf = NULL ; if ( istransportdelay ) { numBuffer = 3 ; xBuf = & ( * uBufPtr ) [ bufSz << 1 ] ; } else { numBuffer = 2 ; } if ( tail < bufSz - 1 ) { testIdx = tail + 1 ; } else { testIdx = 0 ; } if ( ( tMinusDelay <= tBuf [ testIdx ] ) && ( ! isfixedbuf ) ) { tempX = NULL ; uBuf = * uBufPtr ; if ( bufSz + 1024 > * maxNewBufSzPtr ) { * maxNewBufSzPtr = bufSz + 1024 ; } tempU = ( real_T * ) malloc ( ( uint32_T ) ( ( ( bufSz + 1024 ) * numBuffer ) << 3 ) ) ; if ( tempU == NULL ) { success = false ; } else { if ( istransportdelay ) { tempX = & tempU [ ( bufSz + 1024 ) + ( bufSz + 1024 ) ] ; } for ( numBuffer = tail ; numBuffer < bufSz ; numBuffer ++ ) { tempU [ ( bufSz + 1024 ) + ( numBuffer - tail ) ] = tBuf [ numBuffer ] ; tempU [ numBuffer - tail ] = uBuf [ numBuffer ] ; if ( istransportdelay ) { tempX [ numBuffer - tail ] = xBuf [ numBuffer ] ; } } for ( numBuffer = 0 ; numBuffer <= tail ; numBuffer ++ ) { tempU [ ( bufSz + 1024 ) + ( ( numBuffer + bufSz ) - tail ) ] = tBuf [ numBuffer ] ; tempU [ ( numBuffer + bufSz ) - tail ] = uBuf [ numBuffer ] ; if ( istransportdelay ) { tempX [ ( numBuffer + bufSz ) - tail ] = xBuf [ numBuffer ] ; } } if ( * lastPtr > tail ) { * lastPtr -= tail ; } else { * lastPtr += bufSz - tail ; } * tailPtr = 0 ; * headPtr = bufSz ; free ( uBuf ) ; * bufSzPtr = bufSz + 1024 ; * uBufPtr = tempU ; } } else { * tailPtr = testIdx ; } return success ; } real_T look1_binlxpw ( real_T u0 , const real_T bp0 [ ] , const real_T table [ ] , uint32_T maxIndex ) { real_T frac ; real_T yL_0d0 ; uint32_T bpIdx ; uint32_T iLeft ; uint32_T iRght ; if ( u0 <= bp0 [ 0U ] ) { iLeft = 0U ; frac = ( u0 - bp0 [ 0U ] ) / ( bp0 [ 1U ] - bp0 [ 0U ] ) ; } else if ( u0 < bp0 [ maxIndex ] ) { bpIdx = maxIndex >> 1U ; iLeft = 0U ; iRght = maxIndex ; while ( iRght - iLeft > 1U ) { if ( u0 < bp0 [ bpIdx ] ) { iRght = bpIdx ; } else { iLeft = bpIdx ; } bpIdx = ( iRght + iLeft ) >> 1U ; } frac = ( u0 - bp0 [ iLeft ] ) / ( bp0 [ iLeft + 1U ] - bp0 [ iLeft ] ) ; } else { iLeft = maxIndex - 1U ; frac = ( u0 - bp0 [ maxIndex - 1U ] ) / ( bp0 [ maxIndex ] - bp0 [ maxIndex - 1U ] ) ; } yL_0d0 = table [ iLeft ] ; return ( table [ iLeft + 1U ] - yL_0d0 ) * frac + yL_0d0 ; } void rt_ssGetBlockPath ( void * S , int_T sysIdx , int_T blkIdx , char_T * * path ) { _ssGetBlockPath ( ( SimStruct * ) S , sysIdx , blkIdx , path ) ; } void rt_ssSet_slErrMsg ( void * S , void * diag ) { SimStruct * castedS = ( SimStruct * ) S ; if ( ! _ssIsErrorStatusAslErrMsg ( castedS ) ) { _ssSet_slErrMsg ( castedS , diag ) ; } else { _ssDiscardDiagnostic ( castedS , diag ) ; } } void rt_ssReportDiagnosticAsWarning ( void * S , void * diag ) { _ssReportDiagnosticAsWarning ( ( SimStruct * ) S , diag ) ; } void rt_ssReportDiagnosticAsInfo ( void * S , void * diag ) { _ssReportDiagnosticAsInfo ( ( SimStruct * ) S , diag ) ; } static void mdlOutputs ( SimStruct * S , int_T tid ) { __m128d tmp ; B_Copter_T * _rtB ; DW_Copter_T * _rtDW ; P_Copter_T * _rtP ; X_Copter_T * _rtX ; real_T pData_idx_1 ; real_T pData_idx_4 ; real_T pData_idx_5 ; real_T pData_idx_5_0 ; real_T pData_idx_6 ; real_T pData_idx_7 ; real_T pData_idx_8 ; real_T rtb_B_15_303_2424 ; real_T rtb_B_15_307_2456 ; real_T rtb_B_15_311_2488 ; real_T rtb_B_15_315_2520 ; real_T rtb_B_15_319_2552 ; real_T rtb_B_15_323_2584 ; int32_T i ; _rtDW = ( ( DW_Copter_T * ) ssGetRootDWork ( S ) ) ; _rtX = ( ( X_Copter_T * ) ssGetContStates ( S ) ) ; _rtP = ( ( P_Copter_T * ) ssGetModelRtp ( S ) ) ; _rtB = ( ( B_Copter_T * ) _ssGetModelBlockIO ( S ) ) ; _rtB -> B_15_3_24 [ 0 ] = _rtX -> uDOFEulerAngles_CSTATE [ 3 ] ; _rtB -> B_15_3_24 [ 1 ] = _rtX -> uDOFEulerAngles_CSTATE [ 4 ] ; _rtB -> B_15_3_24 [ 2 ] = _rtX -> uDOFEulerAngles_CSTATE [ 5 ] ; rtb_B_15_303_2424 = muDoubleScalarCos ( _rtX -> uDOFEulerAngles_CSTATE [ 9 ] ) ; pData_idx_7 = muDoubleScalarSin ( _rtX -> uDOFEulerAngles_CSTATE [ 9 ] ) ; pData_idx_5 = - muDoubleScalarSin ( _rtX -> uDOFEulerAngles_CSTATE [ 9 ] ) ; rtb_B_15_307_2456 = muDoubleScalarCos ( _rtX -> uDOFEulerAngles_CSTATE [ 9 ] ) ; rtb_B_15_311_2488 = muDoubleScalarCos ( _rtX -> uDOFEulerAngles_CSTATE [ 10 ] ) ; pData_idx_6 = - muDoubleScalarSin ( _rtX -> uDOFEulerAngles_CSTATE [ 10 ] ) ; rtb_B_15_315_2520 = muDoubleScalarSin ( _rtX -> uDOFEulerAngles_CSTATE [ 10 ] ) ; pData_idx_8 = muDoubleScalarCos ( _rtX -> uDOFEulerAngles_CSTATE [ 10 ] ) ; rtb_B_15_319_2552 = 0.0 * rtb_B_15_315_2520 + rtb_B_15_311_2488 ; rtb_B_15_323_2584 = 0.0 * pData_idx_8 + pData_idx_6 ; pData_idx_1 = ( rtb_B_15_311_2488 * 0.0 + 0.0 * rtb_B_15_303_2424 ) + pData_idx_7 * rtb_B_15_315_2520 ; pData_idx_4 = pData_idx_7 * 0.0 + rtb_B_15_303_2424 ; pData_idx_7 = ( pData_idx_6 * 0.0 + rtb_B_15_303_2424 * 0.0 ) + pData_idx_7 * pData_idx_8 ; rtb_B_15_315_2520 = ( rtb_B_15_311_2488 * 0.0 + 0.0 * pData_idx_5 ) + rtb_B_15_315_2520 * rtb_B_15_307_2456 ; pData_idx_5_0 = 0.0 * rtb_B_15_307_2456 + pData_idx_5 ; rtb_B_15_307_2456 = ( pData_idx_6 * 0.0 + 0.0 * pData_idx_5 ) + rtb_B_15_307_2456 * pData_idx_8 ; rtb_B_15_311_2488 = muDoubleScalarCos ( _rtX -> uDOFEulerAngles_CSTATE [ 11 ] ) ; pData_idx_5 = muDoubleScalarSin ( _rtX -> uDOFEulerAngles_CSTATE [ 11 ] ) ; pData_idx_6 = - muDoubleScalarSin ( _rtX -> uDOFEulerAngles_CSTATE [ 11 ] ) ; rtb_B_15_303_2424 = muDoubleScalarCos ( _rtX -> uDOFEulerAngles_CSTATE [ 11 ] ) ; _rtB -> B_15_0_0 [ 0 ] = ( ( ( rtb_B_15_319_2552 * rtb_B_15_311_2488 + 0.0 * pData_idx_6 ) + rtb_B_15_323_2584 * 0.0 ) * _rtX -> uDOFEulerAngles_CSTATE [ 0 ] + ( ( rtb_B_15_311_2488 * pData_idx_1 + pData_idx_6 * pData_idx_4 ) + pData_idx_7 * 0.0 ) * _rtX -> uDOFEulerAngles_CSTATE [ 1 ] ) + ( ( rtb_B_15_311_2488 * rtb_B_15_315_2520 + pData_idx_6 * pData_idx_5_0 ) + 0.0 * rtb_B_15_307_2456 ) * _rtX -> uDOFEulerAngles_CSTATE [ 2 ] ; _rtB -> B_15_0_0 [ 1 ] = ( ( ( rtb_B_15_319_2552 * pData_idx_5 + 0.0 * rtb_B_15_303_2424 ) + rtb_B_15_323_2584 * 0.0 ) * _rtX -> uDOFEulerAngles_CSTATE [ 0 ] + ( ( pData_idx_5 * pData_idx_1 + pData_idx_4 * rtb_B_15_303_2424 ) + pData_idx_7 * 0.0 ) * _rtX -> uDOFEulerAngles_CSTATE [ 1 ] ) + ( ( pData_idx_5 * rtb_B_15_315_2520 + rtb_B_15_303_2424 * pData_idx_5_0 ) + 0.0 * rtb_B_15_307_2456 ) * _rtX -> uDOFEulerAngles_CSTATE [ 2 ] ; _rtB -> B_15_0_0 [ 2 ] = ( ( ( 0.0 * pData_idx_1 + pData_idx_4 * 0.0 ) + pData_idx_7 ) * _rtX -> uDOFEulerAngles_CSTATE [ 1 ] + ( rtb_B_15_319_2552 * 0.0 + rtb_B_15_323_2584 ) * _rtX -> uDOFEulerAngles_CSTATE [ 0 ] ) + ( ( 0.0 * rtb_B_15_315_2520 + 0.0 * pData_idx_5_0 ) + rtb_B_15_307_2456 ) * _rtX -> uDOFEulerAngles_CSTATE [ 2 ] ; i = ssIsSampleHit ( S , 1 , 0 ) ; if ( i != 0 ) { ssCallAccelRunBlock ( S , 15 , 1 , SS_CALL_MDL_OUTPUTS ) ; ssCallAccelRunBlock ( S , 15 , 2 , SS_CALL_MDL_OUTPUTS ) ; i = ssIsSampleHit ( S , 2 , 0 ) ; if ( i != 0 ) { memcpy ( & _rtB -> B_15_6_48 [ 0 ] , & _rtDW -> RateTransition_Buffer0 [ 0 ] , sizeof ( real_T ) << 4U ) ; } for ( i = 0 ; i <= 4 ; i += 2 ) { tmp = _mm_loadu_pd ( & _rtB -> B_15_6_48 [ i ] ) ; _mm_storeu_pd ( & _rtB -> B_15_259_2072 [ i ] , _mm_mul_pd ( _mm_set1_pd ( _rtP -> P_7 ) , tmp ) ) ; } i = ssIsSampleHit ( S , 2 , 0 ) ; if ( i != 0 ) { _rtDW -> RateTransition_Buffer [ 0 ] = _rtB -> B_15_259_2072 [ 0 ] ; _rtDW -> RateTransition_Buffer [ 1 ] = _rtB -> B_15_259_2072 [ 1 ] ; _rtDW -> RateTransition_Buffer [ 2 ] = _rtB -> B_15_259_2072 [ 2 ] ; } } i = ssIsSampleHit ( S , 2 , 0 ) ; if ( i != 0 ) { _rtB -> B_15_22_176 [ 0 ] = _rtDW -> RateTransition_Buffer [ 0 ] ; _rtB -> B_15_22_176 [ 1 ] = _rtDW -> RateTransition_Buffer [ 1 ] ; _rtB -> B_15_22_176 [ 2 ] = _rtDW -> RateTransition_Buffer [ 2 ] ; } i = ssIsSampleHit ( S , 1 , 0 ) ; if ( i != 0 ) { i = ssIsSampleHit ( S , 2 , 0 ) ; if ( i != 0 ) { _rtDW -> RateTransition1_Buffer [ 0 ] = _rtB -> B_15_129_1032 [ 0 ] ; _rtDW -> RateTransition1_Buffer [ 1 ] = _rtB -> B_15_129_1032 [ 1 ] ; _rtDW -> RateTransition1_Buffer [ 2 ] = _rtB -> B_15_129_1032 [ 2 ] ; } } i = ssIsSampleHit ( S , 2 , 0 ) ; if ( i != 0 ) { _rtB -> B_15_25_200 [ 0 ] = _rtDW -> RateTransition1_Buffer [ 0 ] ; _rtB -> B_15_25_200 [ 1 ] = _rtDW -> RateTransition1_Buffer [ 1 ] ; _rtB -> B_15_25_200 [ 2 ] = _rtDW -> RateTransition1_Buffer [ 2 ] ; } i = ssIsSampleHit ( S , 1 , 0 ) ; if ( i != 0 ) { i = ssIsSampleHit ( S , 2 , 0 ) ; if ( i != 0 ) { _rtDW -> RateTransition2_Buffer [ 0 ] = _rtB -> B_15_132_1056 [ 0 ] ; _rtDW -> RateTransition2_Buffer [ 1 ] = _rtB -> B_15_132_1056 [ 1 ] ; _rtDW -> RateTransition2_Buffer [ 2 ] = _rtB -> B_15_132_1056 [ 2 ] ; } } i = ssIsSampleHit ( S , 2 , 0 ) ; if ( i != 0 ) { _rtB -> B_15_28_224 [ 0 ] = _rtDW -> RateTransition2_Buffer [ 0 ] ; _rtB -> B_15_28_224 [ 1 ] = _rtDW -> RateTransition2_Buffer [ 1 ] ; _rtB -> B_15_28_224 [ 2 ] = _rtDW -> RateTransition2_Buffer [ 2 ] ; } i = ssIsSampleHit ( S , 1 , 0 ) ; if ( i != 0 ) { i = ssIsSampleHit ( S , 2 , 0 ) ; if ( i != 0 ) { _rtDW -> RateTransition3_Buffer [ 0 ] = _rtB -> B_15_135_1080 [ 0 ] ; _rtDW -> RateTransition3_Buffer [ 1 ] = _rtB -> B_15_135_1080 [ 1 ] ; _rtDW -> RateTransition3_Buffer [ 2 ] = _rtB -> B_15_135_1080 [ 2 ] ; } } i = ssIsSampleHit ( S , 2 , 0 ) ; if ( i != 0 ) { _rtB -> B_15_31_248 [ 0 ] = _rtDW -> RateTransition3_Buffer [ 0 ] ; _rtB -> B_15_31_248 [ 1 ] = _rtDW -> RateTransition3_Buffer [ 1 ] ; _rtB -> B_15_31_248 [ 2 ] = _rtDW -> RateTransition3_Buffer [ 2 ] ; } i = ssIsSampleHit ( S , 1 , 0 ) ; if ( i != 0 ) { i = ssIsSampleHit ( S , 2 , 0 ) ; if ( i != 0 ) { _rtDW -> RateTransition4_Buffer [ 0 ] = _rtB -> B_15_138_1104 [ 0 ] ; _rtDW -> RateTransition4_Buffer [ 1 ] = _rtB -> B_15_138_1104 [ 1 ] ; _rtDW -> RateTransition4_Buffer [ 2 ] = _rtB -> B_15_138_1104 [ 2 ] ; } } i = ssIsSampleHit ( S , 2 , 0 ) ; if ( i != 0 ) { _rtB -> B_15_34_272 [ 0 ] = _rtDW -> RateTransition4_Buffer [ 0 ] ; _rtB -> B_15_34_272 [ 1 ] = _rtDW -> RateTransition4_Buffer [ 1 ] ; _rtB -> B_15_34_272 [ 2 ] = _rtDW -> RateTransition4_Buffer [ 2 ] ; } _rtB -> B_15_37_296 = ssGetT ( S ) ; i = ssIsSampleHit ( S , 2 , 0 ) ; if ( i != 0 ) { ssCallAccelRunBlock ( S , 2 , 0 , SS_CALL_MDL_OUTPUTS ) ; } i = ssIsSampleHit ( S , 1 , 0 ) ; if ( i != 0 ) { for ( i = 0 ; i <= 4 ; i += 2 ) { tmp = _mm_loadu_pd ( & _rtB -> B_15_6_48 [ i ] ) ; _mm_storeu_pd ( & _rtB -> B_15_265_2120 [ i ] , _mm_mul_pd ( _mm_set1_pd ( _rtP -> P_8 ) , tmp ) ) ; } ssCallAccelRunBlock ( S , 15 , 13 , SS_CALL_MDL_OUTPUTS ) ; ssCallAccelRunBlock ( S , 15 , 14 , SS_CALL_MDL_OUTPUTS ) ; ssCallAccelRunBlock ( S , 15 , 15 , SS_CALL_MDL_OUTPUTS ) ; } pData_idx_7 = _rtB -> B_15_179_1432 ; if ( _rtB -> B_15_179_1432 > _rtP -> P_9 ) { pData_idx_7 = _rtP -> P_9 ; } if ( pData_idx_7 < 0.0 ) { pData_idx_7 = 0.0 ; } rtb_B_15_303_2424 = Copter_acc_rt_TDelayInterpolate ( ssGetT ( S ) - pData_idx_7 , _rtDW -> VariableTimeDelay_RWORK , ( real_T * ) _rtDW -> VariableTimeDelay_PWORK [ 0 ] , _rtDW -> VariableTimeDelay_IWORK [ 3 ] , & _rtDW -> VariableTimeDelay_IWORK [ 2 ] , _rtDW -> VariableTimeDelay_IWORK [ 0 ] , _rtDW -> VariableTimeDelay_IWORK [ 1 ] , _rtP -> P_10 , true , ( ssIsMinorTimeStep ( S ) != 0 ) && ( ( ( real_T * ) _rtDW -> VariableTimeDelay_PWORK [ 0 ] ) [ _rtDW -> VariableTimeDelay_IWORK [ 1 ] + _rtDW -> VariableTimeDelay_IWORK [ 3 ] ] == ssGetT ( S ) ) ) ; rtb_B_15_303_2424 = _rtP -> P_13 * look1_binlxpw ( rtb_B_15_303_2424 , _rtP -> P_12 , _rtP -> P_11 , 7U ) * _rtP -> P_14 ; pData_idx_7 = _rtB -> B_15_168_1344 ; if ( _rtB -> B_15_168_1344 > _rtP -> P_15 ) { pData_idx_7 = _rtP -> P_15 ; } if ( pData_idx_7 < 0.0 ) { pData_idx_7 = 0.0 ; } rtb_B_15_307_2456 = Copter_acc_rt_TDelayInterpolate ( ssGetT ( S ) - pData_idx_7 , _rtDW -> VariableTimeDelay_RWORK_p , ( real_T * ) _rtDW -> VariableTimeDelay_PWORK_d [ 0 ] , _rtDW -> VariableTimeDelay_IWORK_g [ 3 ] , & _rtDW -> VariableTimeDelay_IWORK_g [ 2 ] , _rtDW -> VariableTimeDelay_IWORK_g [ 0 ] , _rtDW -> VariableTimeDelay_IWORK_g [ 1 ] , _rtP -> P_16 , true , ( ssIsMinorTimeStep ( S ) != 0 ) && ( ( ( real_T * ) _rtDW -> VariableTimeDelay_PWORK_d [ 0 ] ) [ _rtDW -> VariableTimeDelay_IWORK_g [ 1 ] + _rtDW -> VariableTimeDelay_IWORK_g [ 3 ] ] == ssGetT ( S ) ) ) ; rtb_B_15_307_2456 = _rtP -> P_19 * look1_binlxpw ( rtb_B_15_307_2456 , _rtP -> P_18 , _rtP -> P_17 , 7U ) * _rtP -> P_20 ; pData_idx_7 = _rtB -> B_15_190_1520 ; if ( _rtB -> B_15_190_1520 > _rtP -> P_21 ) { pData_idx_7 = _rtP -> P_21 ; } if ( pData_idx_7 < 0.0 ) { pData_idx_7 = 0.0 ; } rtb_B_15_311_2488 = Copter_acc_rt_TDelayInterpolate ( ssGetT ( S ) - pData_idx_7 , _rtDW -> VariableTimeDelay_RWORK_f , ( real_T * ) _rtDW -> VariableTimeDelay_PWORK_b [ 0 ] , _rtDW -> VariableTimeDelay_IWORK_j [ 3 ] , & _rtDW -> VariableTimeDelay_IWORK_j [ 2 ] , _rtDW -> VariableTimeDelay_IWORK_j [ 0 ] , _rtDW -> VariableTimeDelay_IWORK_j [ 1 ] , _rtP -> P_22 , true , ( ssIsMinorTimeStep ( S ) != 0 ) && ( ( ( real_T * ) _rtDW -> VariableTimeDelay_PWORK_b [ 0 ] ) [ _rtDW -> VariableTimeDelay_IWORK_j [ 1 ] + _rtDW -> VariableTimeDelay_IWORK_j [ 3 ] ] == ssGetT ( S ) ) ) ; rtb_B_15_311_2488 = _rtP -> P_25 * look1_binlxpw ( rtb_B_15_311_2488 , _rtP -> P_24 , _rtP -> P_23 , 7U ) * _rtP -> P_26 ; pData_idx_7 = _rtB -> B_15_201_1608 ; if ( _rtB -> B_15_201_1608 > _rtP -> P_27 ) { pData_idx_7 = _rtP -> P_27 ; } if ( pData_idx_7 < 0.0 ) { pData_idx_7 = 0.0 ; } rtb_B_15_315_2520 = Copter_acc_rt_TDelayInterpolate ( ssGetT ( S ) - pData_idx_7 , _rtDW -> VariableTimeDelay_RWORK_h , ( real_T * ) _rtDW -> VariableTimeDelay_PWORK_p [ 0 ] , _rtDW -> VariableTimeDelay_IWORK_l [ 3 ] , & _rtDW -> VariableTimeDelay_IWORK_l [ 2 ] , _rtDW -> VariableTimeDelay_IWORK_l [ 0 ] , _rtDW -> VariableTimeDelay_IWORK_l [ 1 ] , _rtP -> P_28 , true , ( ssIsMinorTimeStep ( S ) != 0 ) && ( ( ( real_T * ) _rtDW -> VariableTimeDelay_PWORK_p [ 0 ] ) [ _rtDW -> VariableTimeDelay_IWORK_l [ 1 ] + _rtDW -> VariableTimeDelay_IWORK_l [ 3 ] ] == ssGetT ( S ) ) ) ; rtb_B_15_315_2520 = _rtP -> P_31 * look1_binlxpw ( rtb_B_15_315_2520 , _rtP -> P_30 , _rtP -> P_29 , 7U ) * _rtP -> P_32 ; pData_idx_7 = _rtB -> B_15_212_1696 ; if ( _rtB -> B_15_212_1696 > _rtP -> P_33 ) { pData_idx_7 = _rtP -> P_33 ; } if ( pData_idx_7 < 0.0 ) { pData_idx_7 = 0.0 ; } rtb_B_15_319_2552 = Copter_acc_rt_TDelayInterpolate ( ssGetT ( S ) - pData_idx_7 , _rtDW -> VariableTimeDelay_RWORK_j , ( real_T * ) _rtDW -> VariableTimeDelay_PWORK_g [ 0 ] , _rtDW -> VariableTimeDelay_IWORK_k [ 3 ] , & _rtDW -> VariableTimeDelay_IWORK_k [ 2 ] , _rtDW -> VariableTimeDelay_IWORK_k [ 0 ] , _rtDW -> VariableTimeDelay_IWORK_k [ 1 ] , _rtP -> P_34 , true , ( ssIsMinorTimeStep ( S ) != 0 ) && ( ( ( real_T * ) _rtDW -> VariableTimeDelay_PWORK_g [ 0 ] ) [ _rtDW -> VariableTimeDelay_IWORK_k [ 1 ] + _rtDW -> VariableTimeDelay_IWORK_k [ 3 ] ] == ssGetT ( S ) ) ) ; rtb_B_15_319_2552 = _rtP -> P_37 * look1_binlxpw ( rtb_B_15_319_2552 , _rtP -> P_36 , _rtP -> P_35 , 7U ) * _rtP -> P_38 ; pData_idx_7 = _rtB -> B_15_223_1784 ; if ( _rtB -> B_15_223_1784 > _rtP -> P_39 ) { pData_idx_7 = _rtP -> P_39 ; } if ( pData_idx_7 < 0.0 ) { pData_idx_7 = 0.0 ; } rtb_B_15_323_2584 = Copter_acc_rt_TDelayInterpolate ( ssGetT ( S ) - pData_idx_7 , _rtDW -> VariableTimeDelay_RWORK_o , ( real_T * ) _rtDW -> VariableTimeDelay_PWORK_bg [ 0 ] , _rtDW -> VariableTimeDelay_IWORK_h [ 3 ] , & _rtDW -> VariableTimeDelay_IWORK_h [ 2 ] , _rtDW -> VariableTimeDelay_IWORK_h [ 0 ] , _rtDW -> VariableTimeDelay_IWORK_h [ 1 ] , _rtP -> P_40 , true , ( ssIsMinorTimeStep ( S ) != 0 ) && ( ( ( real_T * ) _rtDW -> VariableTimeDelay_PWORK_bg [ 0 ] ) [ _rtDW -> VariableTimeDelay_IWORK_h [ 1 ] + _rtDW -> VariableTimeDelay_IWORK_h [ 3 ] ] == ssGetT ( S ) ) ) ; rtb_B_15_323_2584 = _rtP -> P_43 * look1_binlxpw ( rtb_B_15_323_2584 , _rtP -> P_42 , _rtP -> P_41 , 7U ) * _rtP -> P_44 ; _rtB -> B_15_38_304 [ 0 ] = ( ( ( ( _rtB -> B_15_183_1464 + _rtB -> B_15_172_1376 ) + _rtB -> B_15_194_1552 ) + _rtB -> B_15_205_1640 ) + _rtB -> B_15_216_1728 ) + _rtB -> B_15_227_1816 ; _rtB -> B_15_38_304 [ 1 ] = ( ( ( ( _rtB -> B_15_184_1472 + _rtB -> B_15_173_1384 ) + _rtB -> B_15_195_1560 ) + _rtB -> B_15_206_1648 ) + _rtB -> B_15_217_1736 ) + _rtB -> B_15_228_1824 ; _rtB -> B_15_38_304 [ 2 ] = ( ( ( ( rtb_B_15_303_2424 + rtb_B_15_307_2456 ) + rtb_B_15_311_2488 ) + rtb_B_15_315_2520 ) + rtb_B_15_319_2552 ) + rtb_B_15_323_2584 ; i = ssIsSampleHit ( S , 1 , 0 ) ; if ( i != 0 ) { ssCallAccelRunBlock ( S , 15 , 41 , SS_CALL_MDL_OUTPUTS ) ; } rtb_B_15_303_2424 *= _rtP -> P_45 ; _rtB -> B_15_41_328 [ 0 ] = _rtB -> B_15_159_1272 [ 1 ] * rtb_B_15_303_2424 - _rtB -> B_15_159_1272 [ 2 ] * _rtB -> B_15_176_1408 ; _rtB -> B_15_41_328 [ 1 ] = _rtB -> B_15_159_1272 [ 2 ] * _rtB -> B_15_177_1416 - _rtB -> B_15_159_1272 [ 0 ] * rtb_B_15_303_2424 ; _rtB -> B_15_41_328 [ 2 ] = _rtB -> B_15_159_1272 [ 0 ] * _rtB -> B_15_176_1408 - _rtB -> B_15_159_1272 [ 1 ] * _rtB -> B_15_177_1416 ; rtb_B_15_303_2424 = _rtP -> P_46 * rtb_B_15_307_2456 ; _rtB -> B_15_44_352 [ 0 ] = _rtB -> B_15_162_1296 [ 1 ] * rtb_B_15_303_2424 - _rtB -> B_15_162_1296 [ 2 ] * _rtB -> B_15_165_1320 ; _rtB -> B_15_44_352 [ 1 ] = _rtB -> B_15_162_1296 [ 2 ] * _rtB -> B_15_166_1328 - _rtB -> B_15_162_1296 [ 0 ] * rtb_B_15_303_2424 ; _rtB -> B_15_44_352 [ 2 ] = _rtB -> B_15_162_1296 [ 0 ] * _rtB -> B_15_165_1320 - _rtB -> B_15_162_1296 [ 1 ] * _rtB -> B_15_166_1328 ; rtb_B_15_303_2424 = _rtP -> P_47 * rtb_B_15_311_2488 ; _rtB -> B_15_47_376 [ 0 ] = _rtB -> B_15_142_1136 [ 1 ] * rtb_B_15_303_2424 - _rtB -> B_15_142_1136 [ 2 ] * _rtB -> B_15_187_1496 ; _rtB -> B_15_47_376 [ 1 ] = _rtB -> B_15_142_1136 [ 2 ] * _rtB -> B_15_188_1504 - _rtB -> B_15_142_1136 [ 0 ] * rtb_B_15_303_2424 ; _rtB -> B_15_47_376 [ 2 ] = _rtB -> B_15_142_1136 [ 0 ] * _rtB -> B_15_187_1496 - _rtB -> B_15_142_1136 [ 1 ] * _rtB -> B_15_188_1504 ; rtb_B_15_303_2424 = _rtP -> P_48 * rtb_B_15_315_2520 ; _rtB -> B_15_50_400 [ 0 ] = _rtB -> B_15_145_1160 [ 1 ] * rtb_B_15_303_2424 - _rtB -> B_15_145_1160 [ 2 ] * _rtB -> B_15_198_1584 ; _rtB -> B_15_50_400 [ 1 ] = _rtB -> B_15_145_1160 [ 2 ] * _rtB -> B_15_199_1592 - _rtB -> B_15_145_1160 [ 0 ] * rtb_B_15_303_2424 ; _rtB -> B_15_50_400 [ 2 ] = _rtB -> B_15_145_1160 [ 0 ] * _rtB -> B_15_198_1584 - _rtB -> B_15_145_1160 [ 1 ] * _rtB -> B_15_199_1592 ; rtb_B_15_303_2424 = _rtP -> P_49 * rtb_B_15_319_2552 ; _rtB -> B_15_53_424 [ 0 ] = _rtB -> B_15_148_1184 [ 1 ] * rtb_B_15_303_2424 - _rtB -> B_15_148_1184 [ 2 ] * _rtB -> B_15_209_1672 ; _rtB -> B_15_53_424 [ 1 ] = _rtB -> B_15_148_1184 [ 2 ] * _rtB -> B_15_210_1680 - _rtB -> B_15_148_1184 [ 0 ] * rtb_B_15_303_2424 ; _rtB -> B_15_53_424 [ 2 ] = _rtB -> B_15_148_1184 [ 0 ] * _rtB -> B_15_209_1672 - _rtB -> B_15_148_1184 [ 1 ] * _rtB -> B_15_210_1680 ; rtb_B_15_303_2424 = _rtP -> P_50 * rtb_B_15_323_2584 ; pData_idx_7 = _rtB -> B_15_151_1208 [ 1 ] * rtb_B_15_303_2424 - _rtB -> B_15_151_1208 [ 2 ] * _rtB -> B_15_220_1760 ; _rtB -> B_15_56_448 [ 0 ] = pData_idx_7 ; _rtB -> B_15_59_472 [ 0 ] = ( ( ( ( _rtB -> B_15_41_328 [ 0 ] + _rtB -> B_15_44_352 [ 0 ] ) + _rtB -> B_15_47_376 [ 0 ] ) + _rtB -> B_15_50_400 [ 0 ] ) + _rtB -> B_15_53_424 [ 0 ] ) + pData_idx_7 ; pData_idx_7 = _rtB -> B_15_151_1208 [ 2 ] * _rtB -> B_15_221_1768 - _rtB -> B_15_151_1208 [ 0 ] * rtb_B_15_303_2424 ; _rtB -> B_15_56_448 [ 1 ] = pData_idx_7 ; _rtB -> B_15_59_472 [ 1 ] = ( ( ( ( _rtB -> B_15_41_328 [ 1 ] + _rtB -> B_15_44_352 [ 1 ] ) + _rtB -> B_15_47_376 [ 1 ] ) + _rtB -> B_15_50_400 [ 1 ] ) + _rtB -> B_15_53_424 [ 1 ] ) + pData_idx_7 ; pData_idx_7 = _rtB -> B_15_151_1208 [ 0 ] * _rtB -> B_15_220_1760 - _rtB -> B_15_151_1208 [ 1 ] * _rtB -> B_15_221_1768 ; _rtB -> B_15_56_448 [ 2 ] = pData_idx_7 ; _rtB -> B_15_59_472 [ 2 ] = ( ( ( ( _rtB -> B_15_41_328 [ 2 ] + _rtB -> B_15_44_352 [ 2 ] ) + _rtB -> B_15_47_376 [ 2 ] ) + _rtB -> B_15_50_400 [ 2 ] ) + _rtB -> B_15_53_424 [ 2 ] ) + pData_idx_7 ; i = ssIsSampleHit ( S , 1 , 0 ) ; if ( i != 0 ) { ssCallAccelRunBlock ( S , 15 , 61 , SS_CALL_MDL_OUTPUTS ) ; } _rtB -> B_15_62_496 [ 0 ] = muDoubleScalarAbs ( _rtB -> B_15_185_1480 ) * _rtB -> B_15_154_1232 ; _rtB -> B_15_62_496 [ 1 ] = muDoubleScalarAbs ( _rtB -> B_15_186_1488 ) * _rtB -> B_15_154_1232 ; _rtB -> B_15_62_496 [ 2 ] = muDoubleScalarAbs ( _rtP -> P_52 * _rtX -> TransferFcn_CSTATE ) * _rtB -> B_15_154_1232 ; _rtB -> B_15_68_544 [ 0 ] = muDoubleScalarAbs ( _rtB -> B_15_174_1392 ) * _rtB -> B_15_141_1128 ; _rtB -> B_15_68_544 [ 1 ] = muDoubleScalarAbs ( _rtB -> B_15_175_1400 ) * _rtB -> B_15_141_1128 ; _rtB -> B_15_68_544 [ 2 ] = muDoubleScalarAbs ( _rtP -> P_54 * _rtX -> TransferFcn_CSTATE_i ) * _rtB -> B_15_141_1128 ; _rtB -> B_15_74_592 [ 0 ] = muDoubleScalarAbs ( _rtB -> B_15_196_1568 ) * _rtB -> B_15_155_1240 ; _rtB -> B_15_74_592 [ 1 ] = muDoubleScalarAbs ( _rtB -> B_15_197_1576 ) * _rtB -> B_15_155_1240 ; _rtB -> B_15_74_592 [ 2 ] = muDoubleScalarAbs ( _rtP -> P_56 * _rtX -> TransferFcn_CSTATE_h ) * _rtB -> B_15_155_1240 ; _rtB -> B_15_80_640 [ 0 ] = muDoubleScalarAbs ( _rtB -> B_15_207_1656 ) * _rtB -> B_15_156_1248 ; _rtB -> B_15_80_640 [ 1 ] = muDoubleScalarAbs ( _rtB -> B_15_208_1664 ) * _rtB -> B_15_156_1248 ; _rtB -> B_15_80_640 [ 2 ] = muDoubleScalarAbs ( _rtP -> P_58 * _rtX -> TransferFcn_CSTATE_i0 ) * _rtB -> B_15_156_1248 ; _rtB -> B_15_86_688 [ 0 ] = muDoubleScalarAbs ( _rtB -> B_15_218_1744 ) * _rtB -> B_15_157_1256 ; _rtB -> B_15_86_688 [ 1 ] = muDoubleScalarAbs ( _rtB -> B_15_219_1752 ) * _rtB -> B_15_157_1256 ; _rtB -> B_15_86_688 [ 2 ] = muDoubleScalarAbs ( _rtP -> P_60 * _rtX -> TransferFcn_CSTATE_o ) * _rtB -> B_15_157_1256 ; _rtB -> B_15_92_736 [ 0 ] = muDoubleScalarAbs ( _rtB -> B_15_229_1832 ) * _rtB -> B_15_158_1264 ; _rtB -> B_15_92_736 [ 1 ] = muDoubleScalarAbs ( _rtB -> B_15_230_1840 ) * _rtB -> B_15_158_1264 ; _rtB -> B_15_92_736 [ 2 ] = muDoubleScalarAbs ( _rtP -> P_62 * _rtX -> TransferFcn_CSTATE_p ) * _rtB -> B_15_158_1264 ; rtb_B_15_303_2424 = _rtB -> B_15_41_328 [ 0 ] + _rtB -> B_15_62_496 [ 0 ] ; _rtB -> B_15_65_520 [ 0 ] = rtb_B_15_303_2424 ; pData_idx_7 = _rtB -> B_15_44_352 [ 0 ] + _rtB -> B_15_68_544 [ 0 ] ; _rtB -> B_15_71_568 [ 0 ] = pData_idx_7 ; rtb_B_15_307_2456 = _rtB -> B_15_47_376 [ 0 ] + _rtB -> B_15_74_592 [ 0 ] ; _rtB -> B_15_77_616 [ 0 ] = rtb_B_15_307_2456 ; rtb_B_15_311_2488 = _rtB -> B_15_50_400 [ 0 ] + _rtB -> B_15_80_640 [ 0 ] ; _rtB -> B_15_83_664 [ 0 ] = rtb_B_15_311_2488 ; rtb_B_15_315_2520 = _rtB -> B_15_53_424 [ 0 ] + _rtB -> B_15_86_688 [ 0 ] ; _rtB -> B_15_89_712 [ 0 ] = rtb_B_15_315_2520 ; rtb_B_15_319_2552 = _rtB -> B_15_56_448 [ 0 ] + _rtB -> B_15_92_736 [ 0 ] ; _rtB -> B_15_95_760 [ 0 ] = rtb_B_15_319_2552 ; _rtB -> B_15_98_784 [ 0 ] = ( ( ( ( rtb_B_15_303_2424 + pData_idx_7 ) + rtb_B_15_307_2456 ) + rtb_B_15_311_2488 ) + rtb_B_15_315_2520 ) + rtb_B_15_319_2552 ; rtb_B_15_303_2424 = _rtB -> B_15_41_328 [ 1 ] + _rtB -> B_15_62_496 [ 1 ] ; _rtB -> B_15_65_520 [ 1 ] = rtb_B_15_303_2424 ; pData_idx_7 = _rtB -> B_15_44_352 [ 1 ] + _rtB -> B_15_68_544 [ 1 ] ; _rtB -> B_15_71_568 [ 1 ] = pData_idx_7 ; rtb_B_15_307_2456 = _rtB -> B_15_47_376 [ 1 ] + _rtB -> B_15_74_592 [ 1 ] ; _rtB -> B_15_77_616 [ 1 ] = rtb_B_15_307_2456 ; rtb_B_15_311_2488 = _rtB -> B_15_50_400 [ 1 ] + _rtB -> B_15_80_640 [ 1 ] ; _rtB -> B_15_83_664 [ 1 ] = rtb_B_15_311_2488 ; rtb_B_15_315_2520 = _rtB -> B_15_53_424 [ 1 ] + _rtB -> B_15_86_688 [ 1 ] ; _rtB -> B_15_89_712 [ 1 ] = rtb_B_15_315_2520 ; rtb_B_15_319_2552 = _rtB -> B_15_56_448 [ 1 ] + _rtB -> B_15_92_736 [ 1 ] ; _rtB -> B_15_95_760 [ 1 ] = rtb_B_15_319_2552 ; _rtB -> B_15_98_784 [ 1 ] = ( ( ( ( rtb_B_15_303_2424 + pData_idx_7 ) + rtb_B_15_307_2456 ) + rtb_B_15_311_2488 ) + rtb_B_15_315_2520 ) + rtb_B_15_319_2552 ; rtb_B_15_303_2424 = _rtB -> B_15_41_328 [ 2 ] + _rtB -> B_15_62_496 [ 2 ] ; _rtB -> B_15_65_520 [ 2 ] = rtb_B_15_303_2424 ; pData_idx_7 = _rtB -> B_15_44_352 [ 2 ] + _rtB -> B_15_68_544 [ 2 ] ; _rtB -> B_15_71_568 [ 2 ] = pData_idx_7 ; rtb_B_15_307_2456 = _rtB -> B_15_47_376 [ 2 ] + _rtB -> B_15_74_592 [ 2 ] ; _rtB -> B_15_77_616 [ 2 ] = rtb_B_15_307_2456 ; rtb_B_15_311_2488 = _rtB -> B_15_50_400 [ 2 ] + _rtB -> B_15_80_640 [ 2 ] ; _rtB -> B_15_83_664 [ 2 ] = rtb_B_15_311_2488 ; rtb_B_15_315_2520 = _rtB -> B_15_53_424 [ 2 ] + _rtB -> B_15_86_688 [ 2 ] ; _rtB -> B_15_89_712 [ 2 ] = rtb_B_15_315_2520 ; rtb_B_15_319_2552 = _rtB -> B_15_56_448 [ 2 ] + _rtB -> B_15_92_736 [ 2 ] ; _rtB -> B_15_95_760 [ 2 ] = rtb_B_15_319_2552 ; _rtB -> B_15_98_784 [ 2 ] = ( ( ( ( rtb_B_15_303_2424 + pData_idx_7 ) + rtb_B_15_307_2456 ) + rtb_B_15_311_2488 ) + rtb_B_15_315_2520 ) + rtb_B_15_319_2552 ; i = ssIsSampleHit ( S , 1 , 0 ) ; if ( i != 0 ) { ssCallAccelRunBlock ( S , 15 , 87 , SS_CALL_MDL_OUTPUTS ) ; } _rtB -> B_15_101_808 = ssGetT ( S ) ; i = ssIsSampleHit ( S , 2 , 0 ) ; if ( i != 0 ) { ssCallAccelRunBlock ( S , 1 , 0 , SS_CALL_MDL_OUTPUTS ) ; } _rtB -> B_15_102_816 [ 0 ] = ( ( ( ( _rtB -> B_15_62_496 [ 0 ] + _rtB -> B_15_68_544 [ 0 ] ) + _rtB -> B_15_74_592 [ 0 ] ) + _rtB -> B_15_80_640 [ 0 ] ) + _rtB -> B_15_86_688 [ 0 ] ) + _rtB -> B_15_92_736 [ 0 ] ; _rtB -> B_15_102_816 [ 1 ] = ( ( ( ( _rtB -> B_15_62_496 [ 1 ] + _rtB -> B_15_68_544 [ 1 ] ) + _rtB -> B_15_74_592 [ 1 ] ) + _rtB -> B_15_80_640 [ 1 ] ) + _rtB -> B_15_86_688 [ 1 ] ) + _rtB -> B_15_92_736 [ 1 ] ; _rtB -> B_15_102_816 [ 2 ] = ( ( ( ( _rtB -> B_15_62_496 [ 2 ] + _rtB -> B_15_68_544 [ 2 ] ) + _rtB -> B_15_74_592 [ 2 ] ) + _rtB -> B_15_80_640 [ 2 ] ) + _rtB -> B_15_86_688 [ 2 ] ) + _rtB -> B_15_92_736 [ 2 ] ; i = ssIsSampleHit ( S , 1 , 0 ) ; if ( i != 0 ) { ssCallAccelRunBlock ( S , 15 , 91 , SS_CALL_MDL_OUTPUTS ) ; ssCallAccelRunBlock ( S , 15 , 92 , SS_CALL_MDL_OUTPUTS ) ; ssCallAccelRunBlock ( S , 15 , 93 , SS_CALL_MDL_OUTPUTS ) ; ssCallAccelRunBlock ( S , 15 , 94 , SS_CALL_MDL_OUTPUTS ) ; ssCallAccelRunBlock ( S , 15 , 95 , SS_CALL_MDL_OUTPUTS ) ; ssCallAccelRunBlock ( S , 15 , 96 , SS_CALL_MDL_OUTPUTS ) ; ssCallAccelRunBlock ( S , 15 , 97 , SS_CALL_MDL_OUTPUTS ) ; ssCallAccelRunBlock ( S , 15 , 98 , SS_CALL_MDL_OUTPUTS ) ; rtb_B_15_303_2424 = ( _rtB -> B_15_6_48 [ 1 ] - _rtB -> B_15_167_1336 ) / _rtB -> B_15_169_1352 ; if ( rtb_B_15_303_2424 > _rtP -> P_63 ) { _rtB -> B_15_105_840 = _rtP -> P_63 ; } else if ( rtb_B_15_303_2424 < _rtP -> P_64 ) { _rtB -> B_15_105_840 = _rtP -> P_64 ; } else { _rtB -> B_15_105_840 = rtb_B_15_303_2424 ; } ssCallAccelRunBlock ( S , 3 , 0 , SS_CALL_MDL_OUTPUTS ) ; rtb_B_15_303_2424 = ( _rtB -> B_15_6_48 [ 1 ] - _rtB -> B_15_170_1360 ) / _rtB -> B_15_171_1368 ; if ( rtb_B_15_303_2424 > _rtP -> P_65 ) { _rtB -> B_15_106_848 = _rtP -> P_65 ; } else if ( rtb_B_15_303_2424 < _rtP -> P_66 ) { _rtB -> B_15_106_848 = _rtP -> P_66 ; } else { _rtB -> B_15_106_848 = rtb_B_15_303_2424 ; } ssCallAccelRunBlock ( S , 4 , 0 , SS_CALL_MDL_OUTPUTS ) ; _rtB -> B_15_107_856 = look1_binlxpw ( _rtB -> B_4_241_1928 , _rtP -> P_68 , _rtP -> P_67 , 7U ) ; ssCallAccelRunBlock ( S , 15 , 108 , SS_CALL_MDL_OUTPUTS ) ; ssCallAccelRunBlock ( S , 15 , 109 , SS_CALL_MDL_OUTPUTS ) ; ssCallAccelRunBlock ( S , 15 , 110 , SS_CALL_MDL_OUTPUTS ) ; rtb_B_15_303_2424 = ( _rtB -> B_15_6_48 [ 0 ] - _rtB -> B_15_178_1424 ) / _rtB -> B_15_180_1440 ; if ( rtb_B_15_303_2424 > _rtP -> P_69 ) { _rtB -> B_15_108_864 = _rtP -> P_69 ; } else if ( rtb_B_15_303_2424 < _rtP -> P_70 ) { _rtB -> B_15_108_864 = _rtP -> P_70 ; } else { _rtB -> B_15_108_864 = rtb_B_15_303_2424 ; } ssCallAccelRunBlock ( S , 5 , 0 , SS_CALL_MDL_OUTPUTS ) ; rtb_B_15_303_2424 = ( _rtB -> B_15_6_48 [ 0 ] - _rtB -> B_15_181_1448 ) / _rtB -> B_15_182_1456 ; if ( rtb_B_15_303_2424 > _rtP -> P_71 ) { _rtB -> B_15_109_872 = _rtP -> P_71 ; } else if ( rtb_B_15_303_2424 < _rtP -> P_72 ) { _rtB -> B_15_109_872 = _rtP -> P_72 ; } else { _rtB -> B_15_109_872 = rtb_B_15_303_2424 ; } ssCallAccelRunBlock ( S , 6 , 0 , SS_CALL_MDL_OUTPUTS ) ; _rtB -> B_15_110_880 = look1_binlxpw ( _rtB -> B_6_239_1912 , _rtP -> P_74 , _rtP -> P_73 , 7U ) ; ssCallAccelRunBlock ( S , 15 , 120 , SS_CALL_MDL_OUTPUTS ) ; ssCallAccelRunBlock ( S , 15 , 121 , SS_CALL_MDL_OUTPUTS ) ; ssCallAccelRunBlock ( S , 15 , 122 , SS_CALL_MDL_OUTPUTS ) ; rtb_B_15_303_2424 = ( _rtB -> B_15_6_48 [ 2 ] - _rtB -> B_15_189_1512 ) / _rtB -> B_15_191_1528 ; if ( rtb_B_15_303_2424 > _rtP -> P_75 ) { _rtB -> B_15_111_888 = _rtP -> P_75 ; } else if ( rtb_B_15_303_2424 < _rtP -> P_76 ) { _rtB -> B_15_111_888 = _rtP -> P_76 ; } else { _rtB -> B_15_111_888 = rtb_B_15_303_2424 ; } ssCallAccelRunBlock ( S , 7 , 0 , SS_CALL_MDL_OUTPUTS ) ; rtb_B_15_303_2424 = ( _rtB -> B_15_6_48 [ 2 ] - _rtB -> B_15_192_1536 ) / _rtB -> B_15_193_1544 ; if ( rtb_B_15_303_2424 > _rtP -> P_77 ) { _rtB -> B_15_112_896 = _rtP -> P_77 ; } else if ( rtb_B_15_303_2424 < _rtP -> P_78 ) { _rtB -> B_15_112_896 = _rtP -> P_78 ; } else { _rtB -> B_15_112_896 = rtb_B_15_303_2424 ; } ssCallAccelRunBlock ( S , 8 , 0 , SS_CALL_MDL_OUTPUTS ) ; _rtB -> B_15_113_904 = look1_binlxpw ( _rtB -> B_8_237_1896 , _rtP -> P_80 , _rtP -> P_79 , 7U ) ; ssCallAccelRunBlock ( S , 15 , 132 , SS_CALL_MDL_OUTPUTS ) ; ssCallAccelRunBlock ( S , 15 , 133 , SS_CALL_MDL_OUTPUTS ) ; ssCallAccelRunBlock ( S , 15 , 134 , SS_CALL_MDL_OUTPUTS ) ; rtb_B_15_303_2424 = ( _rtB -> B_15_6_48 [ 3 ] - _rtB -> B_15_200_1600 ) / _rtB -> B_15_202_1616 ; if ( rtb_B_15_303_2424 > _rtP -> P_81 ) { _rtB -> B_15_114_912 = _rtP -> P_81 ; } else if ( rtb_B_15_303_2424 < _rtP -> P_82 ) { _rtB -> B_15_114_912 = _rtP -> P_82 ; } else { _rtB -> B_15_114_912 = rtb_B_15_303_2424 ; } ssCallAccelRunBlock ( S , 9 , 0 , SS_CALL_MDL_OUTPUTS ) ; rtb_B_15_303_2424 = ( _rtB -> B_15_6_48 [ 3 ] - _rtB -> B_15_203_1624 ) / _rtB -> B_15_204_1632 ; if ( rtb_B_15_303_2424 > _rtP -> P_83 ) { _rtB -> B_15_115_920 = _rtP -> P_83 ; } else if ( rtb_B_15_303_2424 < _rtP -> P_84 ) { _rtB -> B_15_115_920 = _rtP -> P_84 ; } else { _rtB -> B_15_115_920 = rtb_B_15_303_2424 ; } ssCallAccelRunBlock ( S , 10 , 0 , SS_CALL_MDL_OUTPUTS ) ; _rtB -> B_15_116_928 = look1_binlxpw ( _rtB -> B_10_235_1880 , _rtP -> P_86 , _rtP -> P_85 , 7U ) ; ssCallAccelRunBlock ( S , 15 , 144 , SS_CALL_MDL_OUTPUTS ) ; ssCallAccelRunBlock ( S , 15 , 145 , SS_CALL_MDL_OUTPUTS ) ; ssCallAccelRunBlock ( S , 15 , 146 , SS_CALL_MDL_OUTPUTS ) ; rtb_B_15_303_2424 = ( _rtB -> B_15_6_48 [ 4 ] - _rtB -> B_15_211_1688 ) / _rtB -> B_15_213_1704 ; if ( rtb_B_15_303_2424 > _rtP -> P_87 ) { _rtB -> B_15_117_936 = _rtP -> P_87 ; } else if ( rtb_B_15_303_2424 < _rtP -> P_88 ) { _rtB -> B_15_117_936 = _rtP -> P_88 ; } else { _rtB -> B_15_117_936 = rtb_B_15_303_2424 ; } ssCallAccelRunBlock ( S , 11 , 0 , SS_CALL_MDL_OUTPUTS ) ; rtb_B_15_303_2424 = ( _rtB -> B_15_6_48 [ 4 ] - _rtB -> B_15_214_1712 ) / _rtB -> B_15_215_1720 ; if ( rtb_B_15_303_2424 > _rtP -> P_89 ) { _rtB -> B_15_118_944 = _rtP -> P_89 ; } else if ( rtb_B_15_303_2424 < _rtP -> P_90 ) { _rtB -> B_15_118_944 = _rtP -> P_90 ; } else { _rtB -> B_15_118_944 = rtb_B_15_303_2424 ; } ssCallAccelRunBlock ( S , 12 , 0 , SS_CALL_MDL_OUTPUTS ) ; _rtB -> B_15_119_952 = look1_binlxpw ( _rtB -> B_12_233_1864 , _rtP -> P_92 , _rtP -> P_91 , 7U ) ; ssCallAccelRunBlock ( S , 15 , 156 , SS_CALL_MDL_OUTPUTS ) ; ssCallAccelRunBlock ( S , 15 , 157 , SS_CALL_MDL_OUTPUTS ) ; ssCallAccelRunBlock ( S , 15 , 158 , SS_CALL_MDL_OUTPUTS ) ; rtb_B_15_303_2424 = ( _rtB -> B_15_6_48 [ 5 ] - _rtB -> B_15_222_1776 ) / _rtB -> B_15_224_1792 ; if ( rtb_B_15_303_2424 > _rtP -> P_93 ) { _rtB -> B_15_120_960 = _rtP -> P_93 ; } else if ( rtb_B_15_303_2424 < _rtP -> P_94 ) { _rtB -> B_15_120_960 = _rtP -> P_94 ; } else { _rtB -> B_15_120_960 = rtb_B_15_303_2424 ; } ssCallAccelRunBlock ( S , 13 , 0 , SS_CALL_MDL_OUTPUTS ) ; rtb_B_15_303_2424 = ( _rtB -> B_15_6_48 [ 5 ] - _rtB -> B_15_225_1800 ) / _rtB -> B_15_226_1808 ; if ( rtb_B_15_303_2424 > _rtP -> P_95 ) { _rtB -> B_15_121_968 = _rtP -> P_95 ; } else if ( rtb_B_15_303_2424 < _rtP -> P_96 ) { _rtB -> B_15_121_968 = _rtP -> P_96 ; } else { _rtB -> B_15_121_968 = rtb_B_15_303_2424 ; } ssCallAccelRunBlock ( S , 14 , 0 , SS_CALL_MDL_OUTPUTS ) ; _rtB -> B_15_122_976 = look1_binlxpw ( _rtB -> B_14_231_1848 , _rtP -> P_98 , _rtP -> P_97 , 7U ) ; } UNUSED_PARAMETER ( tid ) ; } static void mdlOutputsTID4 ( SimStruct * S , int_T tid ) { B_Copter_T * _rtB ; P_Copter_T * _rtP ; _rtP = ( ( P_Copter_T * ) ssGetModelRtp ( S ) ) ; _rtB = ( ( B_Copter_T * ) _ssGetModelBlockIO ( S ) ) ; _rtB -> B_15_141_1128 = _rtP -> P_105 ; _rtB -> B_15_154_1232 = _rtP -> P_110 ; _rtB -> B_15_155_1240 = _rtP -> P_111 ; _rtB -> B_15_156_1248 = _rtP -> P_112 ; _rtB -> B_15_157_1256 = _rtP -> P_113 ; _rtB -> B_15_158_1264 = _rtP -> P_114 ; _rtB -> B_15_123_984 [ 0 ] = _rtP -> P_99 [ 0 ] ; _rtB -> B_15_126_1008 [ 0 ] = _rtP -> P_100 [ 0 ] ; _rtB -> B_15_129_1032 [ 0 ] = _rtP -> P_101 [ 0 ] ; _rtB -> B_15_132_1056 [ 0 ] = _rtP -> P_102 [ 0 ] ; _rtB -> B_15_135_1080 [ 0 ] = _rtP -> P_103 [ 0 ] ; _rtB -> B_15_138_1104 [ 0 ] = _rtP -> P_104 [ 0 ] ; _rtB -> B_15_142_1136 [ 0 ] = _rtP -> P_106 [ 0 ] ; _rtB -> B_15_145_1160 [ 0 ] = _rtP -> P_107 [ 0 ] ; _rtB -> B_15_148_1184 [ 0 ] = _rtP -> P_108 [ 0 ] ; _rtB -> B_15_151_1208 [ 0 ] = _rtP -> P_109 [ 0 ] ; _rtB -> B_15_159_1272 [ 0 ] = _rtP -> P_115 [ 0 ] ; _rtB -> B_15_162_1296 [ 0 ] = _rtP -> P_116 [ 0 ] ; _rtB -> B_15_123_984 [ 1 ] = _rtP -> P_99 [ 1 ] ; _rtB -> B_15_126_1008 [ 1 ] = _rtP -> P_100 [ 1 ] ; _rtB -> B_15_129_1032 [ 1 ] = _rtP -> P_101 [ 1 ] ; _rtB -> B_15_132_1056 [ 1 ] = _rtP -> P_102 [ 1 ] ; _rtB -> B_15_135_1080 [ 1 ] = _rtP -> P_103 [ 1 ] ; _rtB -> B_15_138_1104 [ 1 ] = _rtP -> P_104 [ 1 ] ; _rtB -> B_15_142_1136 [ 1 ] = _rtP -> P_106 [ 1 ] ; _rtB -> B_15_145_1160 [ 1 ] = _rtP -> P_107 [ 1 ] ; _rtB -> B_15_148_1184 [ 1 ] = _rtP -> P_108 [ 1 ] ; _rtB -> B_15_151_1208 [ 1 ] = _rtP -> P_109 [ 1 ] ; _rtB -> B_15_159_1272 [ 1 ] = _rtP -> P_115 [ 1 ] ; _rtB -> B_15_162_1296 [ 1 ] = _rtP -> P_116 [ 1 ] ; _rtB -> B_15_123_984 [ 2 ] = _rtP -> P_99 [ 2 ] ; _rtB -> B_15_126_1008 [ 2 ] = _rtP -> P_100 [ 2 ] ; _rtB -> B_15_129_1032 [ 2 ] = _rtP -> P_101 [ 2 ] ; _rtB -> B_15_132_1056 [ 2 ] = _rtP -> P_102 [ 2 ] ; _rtB -> B_15_135_1080 [ 2 ] = _rtP -> P_103 [ 2 ] ; _rtB -> B_15_138_1104 [ 2 ] = _rtP -> P_104 [ 2 ] ; _rtB -> B_15_142_1136 [ 2 ] = _rtP -> P_106 [ 2 ] ; _rtB -> B_15_145_1160 [ 2 ] = _rtP -> P_107 [ 2 ] ; _rtB -> B_15_148_1184 [ 2 ] = _rtP -> P_108 [ 2 ] ; _rtB -> B_15_151_1208 [ 2 ] = _rtP -> P_109 [ 2 ] ; _rtB -> B_15_159_1272 [ 2 ] = _rtP -> P_115 [ 2 ] ; _rtB -> B_15_162_1296 [ 2 ] = _rtP -> P_116 [ 2 ] ; _rtB -> B_15_165_1320 = _rtP -> P_117 ; _rtB -> B_15_166_1328 = _rtP -> P_118 ; _rtB -> B_15_167_1336 = _rtP -> P_119 ; _rtB -> B_15_168_1344 = _rtP -> P_121 ; _rtB -> B_15_169_1352 = _rtP -> P_120 - _rtB -> B_15_167_1336 ; _rtB -> B_15_170_1360 = _rtP -> P_122 ; _rtB -> B_15_171_1368 = _rtP -> P_123 - _rtB -> B_15_170_1360 ; _rtB -> B_15_172_1376 = _rtP -> P_124 ; _rtB -> B_15_173_1384 = _rtP -> P_125 ; _rtB -> B_15_174_1392 = _rtP -> P_126 ; _rtB -> B_15_175_1400 = _rtP -> P_127 ; _rtB -> B_15_176_1408 = _rtP -> P_128 ; _rtB -> B_15_177_1416 = _rtP -> P_129 ; _rtB -> B_15_178_1424 = _rtP -> P_130 ; _rtB -> B_15_179_1432 = _rtP -> P_132 ; _rtB -> B_15_180_1440 = _rtP -> P_131 - _rtB -> B_15_178_1424 ; _rtB -> B_15_181_1448 = _rtP -> P_133 ; _rtB -> B_15_182_1456 = _rtP -> P_134 - _rtB -> B_15_181_1448 ; _rtB -> B_15_183_1464 = _rtP -> P_135 ; _rtB -> B_15_184_1472 = _rtP -> P_136 ; _rtB -> B_15_185_1480 = _rtP -> P_137 ; _rtB -> B_15_186_1488 = _rtP -> P_138 ; _rtB -> B_15_187_1496 = _rtP -> P_139 ; _rtB -> B_15_188_1504 = _rtP -> P_140 ; _rtB -> B_15_189_1512 = _rtP -> P_141 ; _rtB -> B_15_190_1520 = _rtP -> P_143 ; _rtB -> B_15_191_1528 = _rtP -> P_142 - _rtB -> B_15_189_1512 ; _rtB -> B_15_192_1536 = _rtP -> P_144 ; _rtB -> B_15_193_1544 = _rtP -> P_145 - _rtB -> B_15_192_1536 ; _rtB -> B_15_194_1552 = _rtP -> P_146 ; _rtB -> B_15_195_1560 = _rtP -> P_147 ; _rtB -> B_15_196_1568 = _rtP -> P_148 ; _rtB -> B_15_197_1576 = _rtP -> P_149 ; _rtB -> B_15_198_1584 = _rtP -> P_150 ; _rtB -> B_15_199_1592 = _rtP -> P_151 ; _rtB -> B_15_200_1600 = _rtP -> P_152 ; _rtB -> B_15_201_1608 = _rtP -> P_154 ; _rtB -> B_15_202_1616 = _rtP -> P_153 - _rtB -> B_15_200_1600 ; _rtB -> B_15_203_1624 = _rtP -> P_155 ; _rtB -> B_15_204_1632 = _rtP -> P_156 - _rtB -> B_15_203_1624 ; _rtB -> B_15_205_1640 = _rtP -> P_157 ; _rtB -> B_15_206_1648 = _rtP -> P_158 ; _rtB -> B_15_207_1656 = _rtP -> P_159 ; _rtB -> B_15_208_1664 = _rtP -> P_160 ; _rtB -> B_15_209_1672 = _rtP -> P_161 ; _rtB -> B_15_210_1680 = _rtP -> P_162 ; _rtB -> B_15_211_1688 = _rtP -> P_163 ; _rtB -> B_15_212_1696 = _rtP -> P_165 ; _rtB -> B_15_213_1704 = _rtP -> P_164 - _rtB -> B_15_211_1688 ; _rtB -> B_15_214_1712 = _rtP -> P_166 ; _rtB -> B_15_215_1720 = _rtP -> P_167 - _rtB -> B_15_214_1712 ; _rtB -> B_15_216_1728 = _rtP -> P_168 ; _rtB -> B_15_217_1736 = _rtP -> P_169 ; _rtB -> B_15_218_1744 = _rtP -> P_170 ; _rtB -> B_15_219_1752 = _rtP -> P_171 ; _rtB -> B_15_220_1760 = _rtP -> P_172 ; _rtB -> B_15_221_1768 = _rtP -> P_173 ; _rtB -> B_15_222_1776 = _rtP -> P_174 ; _rtB -> B_15_223_1784 = _rtP -> P_176 ; _rtB -> B_15_224_1792 = _rtP -> P_175 - _rtB -> B_15_222_1776 ; _rtB -> B_15_225_1800 = _rtP -> P_177 ; _rtB -> B_15_226_1808 = _rtP -> P_178 - _rtB -> B_15_225_1800 ; _rtB -> B_15_227_1816 = _rtP -> P_179 ; _rtB -> B_15_228_1824 = _rtP -> P_180 ; _rtB -> B_15_229_1832 = _rtP -> P_181 ; _rtB -> B_15_230_1840 = _rtP -> P_182 ; UNUSED_PARAMETER ( tid ) ; }
#define MDL_UPDATE
static void mdlUpdate ( SimStruct * S , int_T tid ) { B_Copter_T * _rtB ;
DW_Copter_T * _rtDW ; P_Copter_T * _rtP ; int32_T i ; _rtDW = ( ( DW_Copter_T
* ) ssGetRootDWork ( S ) ) ; _rtP = ( ( P_Copter_T * ) ssGetModelRtp ( S ) )
; _rtB = ( ( B_Copter_T * ) _ssGetModelBlockIO ( S ) ) ; i = ssIsSampleHit ( S
, 2 , 0 ) ; if ( i != 0 ) { memcpy ( & _rtDW -> RateTransition_Buffer0 [ 0 ]
, & _rtB -> B_1_243_1944 [ 0 ] , sizeof ( real_T ) << 4U ) ; } if ( _rtDW ->
VariableTimeDelay_IWORK [ 1 ] < _rtDW -> VariableTimeDelay_IWORK [ 3 ] - 1 )
{ _rtDW -> VariableTimeDelay_IWORK [ 1 ] ++ ; } else { _rtDW ->
VariableTimeDelay_IWORK [ 1 ] = 0 ; } if ( _rtDW -> VariableTimeDelay_IWORK [
0 ] == _rtDW -> VariableTimeDelay_IWORK [ 1 ] ) {
rt_TDelayUpdateTailOrGrowBuf ( & _rtDW -> VariableTimeDelay_IWORK [ 3 ] , &
_rtDW -> VariableTimeDelay_IWORK [ 0 ] , & _rtDW -> VariableTimeDelay_IWORK [
1 ] , & _rtDW -> VariableTimeDelay_IWORK [ 2 ] , ssGetT ( S ) - _rtP -> P_9 ,
( real_T * * ) & _rtDW -> VariableTimeDelay_PWORK [ 0 ] , false , false , &
_rtDW -> VariableTimeDelay_IWORK [ 4 ] ) ; } ( ( real_T * ) _rtDW ->
VariableTimeDelay_PWORK [ 0 ] ) [ _rtDW -> VariableTimeDelay_IWORK [ 1 ] ] =
_rtB -> B_5_240_1920 ; ( ( real_T * ) _rtDW -> VariableTimeDelay_PWORK [ 0 ]
) [ _rtDW -> VariableTimeDelay_IWORK [ 1 ] + _rtDW -> VariableTimeDelay_IWORK
[ 3 ] ] = ssGetT ( S ) ; if ( _rtDW -> VariableTimeDelay_IWORK_g [ 1 ] <
_rtDW -> VariableTimeDelay_IWORK_g [ 3 ] - 1 ) { _rtDW ->
VariableTimeDelay_IWORK_g [ 1 ] ++ ; } else { _rtDW ->
VariableTimeDelay_IWORK_g [ 1 ] = 0 ; } if ( _rtDW ->
VariableTimeDelay_IWORK_g [ 0 ] == _rtDW -> VariableTimeDelay_IWORK_g [ 1 ] )
{ rt_TDelayUpdateTailOrGrowBuf ( & _rtDW -> VariableTimeDelay_IWORK_g [ 3 ] ,
& _rtDW -> VariableTimeDelay_IWORK_g [ 0 ] , & _rtDW ->
VariableTimeDelay_IWORK_g [ 1 ] , & _rtDW -> VariableTimeDelay_IWORK_g [ 2 ]
, ssGetT ( S ) - _rtP -> P_15 , ( real_T * * ) & _rtDW ->
VariableTimeDelay_PWORK_d [ 0 ] , false , false , & _rtDW ->
VariableTimeDelay_IWORK_g [ 4 ] ) ; } ( ( real_T * ) _rtDW ->
VariableTimeDelay_PWORK_d [ 0 ] ) [ _rtDW -> VariableTimeDelay_IWORK_g [ 1 ]
] = _rtB -> B_3_242_1936 ; ( ( real_T * ) _rtDW -> VariableTimeDelay_PWORK_d
[ 0 ] ) [ _rtDW -> VariableTimeDelay_IWORK_g [ 1 ] + _rtDW ->
VariableTimeDelay_IWORK_g [ 3 ] ] = ssGetT ( S ) ; if ( _rtDW ->
VariableTimeDelay_IWORK_j [ 1 ] < _rtDW -> VariableTimeDelay_IWORK_j [ 3 ] -
1 ) { _rtDW -> VariableTimeDelay_IWORK_j [ 1 ] ++ ; } else { _rtDW ->
VariableTimeDelay_IWORK_j [ 1 ] = 0 ; } if ( _rtDW ->
VariableTimeDelay_IWORK_j [ 0 ] == _rtDW -> VariableTimeDelay_IWORK_j [ 1 ] )
{ rt_TDelayUpdateTailOrGrowBuf ( & _rtDW -> VariableTimeDelay_IWORK_j [ 3 ] ,
& _rtDW -> VariableTimeDelay_IWORK_j [ 0 ] , & _rtDW ->
VariableTimeDelay_IWORK_j [ 1 ] , & _rtDW -> VariableTimeDelay_IWORK_j [ 2 ]
, ssGetT ( S ) - _rtP -> P_21 , ( real_T * * ) & _rtDW ->
VariableTimeDelay_PWORK_b [ 0 ] , false , false , & _rtDW ->
VariableTimeDelay_IWORK_j [ 4 ] ) ; } ( ( real_T * ) _rtDW ->
VariableTimeDelay_PWORK_b [ 0 ] ) [ _rtDW -> VariableTimeDelay_IWORK_j [ 1 ]
] = _rtB -> B_7_238_1904 ; ( ( real_T * ) _rtDW -> VariableTimeDelay_PWORK_b
[ 0 ] ) [ _rtDW -> VariableTimeDelay_IWORK_j [ 1 ] + _rtDW ->
VariableTimeDelay_IWORK_j [ 3 ] ] = ssGetT ( S ) ; if ( _rtDW ->
VariableTimeDelay_IWORK_l [ 1 ] < _rtDW -> VariableTimeDelay_IWORK_l [ 3 ] -
1 ) { _rtDW -> VariableTimeDelay_IWORK_l [ 1 ] ++ ; } else { _rtDW ->
VariableTimeDelay_IWORK_l [ 1 ] = 0 ; } if ( _rtDW ->
VariableTimeDelay_IWORK_l [ 0 ] == _rtDW -> VariableTimeDelay_IWORK_l [ 1 ] )
{ rt_TDelayUpdateTailOrGrowBuf ( & _rtDW -> VariableTimeDelay_IWORK_l [ 3 ] ,
& _rtDW -> VariableTimeDelay_IWORK_l [ 0 ] , & _rtDW ->
VariableTimeDelay_IWORK_l [ 1 ] , & _rtDW -> VariableTimeDelay_IWORK_l [ 2 ]
, ssGetT ( S ) - _rtP -> P_27 , ( real_T * * ) & _rtDW ->
VariableTimeDelay_PWORK_p [ 0 ] , false , false , & _rtDW ->
VariableTimeDelay_IWORK_l [ 4 ] ) ; } ( ( real_T * ) _rtDW ->
VariableTimeDelay_PWORK_p [ 0 ] ) [ _rtDW -> VariableTimeDelay_IWORK_l [ 1 ]
] = _rtB -> B_9_236_1888 ; ( ( real_T * ) _rtDW -> VariableTimeDelay_PWORK_p
[ 0 ] ) [ _rtDW -> VariableTimeDelay_IWORK_l [ 1 ] + _rtDW ->
VariableTimeDelay_IWORK_l [ 3 ] ] = ssGetT ( S ) ; if ( _rtDW ->
VariableTimeDelay_IWORK_k [ 1 ] < _rtDW -> VariableTimeDelay_IWORK_k [ 3 ] -
1 ) { _rtDW -> VariableTimeDelay_IWORK_k [ 1 ] ++ ; } else { _rtDW ->
VariableTimeDelay_IWORK_k [ 1 ] = 0 ; } if ( _rtDW ->
VariableTimeDelay_IWORK_k [ 0 ] == _rtDW -> VariableTimeDelay_IWORK_k [ 1 ] )
{ rt_TDelayUpdateTailOrGrowBuf ( & _rtDW -> VariableTimeDelay_IWORK_k [ 3 ] ,
& _rtDW -> VariableTimeDelay_IWORK_k [ 0 ] , & _rtDW ->
VariableTimeDelay_IWORK_k [ 1 ] , & _rtDW -> VariableTimeDelay_IWORK_k [ 2 ]
, ssGetT ( S ) - _rtP -> P_33 , ( real_T * * ) & _rtDW ->
VariableTimeDelay_PWORK_g [ 0 ] , false , false , & _rtDW ->
VariableTimeDelay_IWORK_k [ 4 ] ) ; } ( ( real_T * ) _rtDW ->
VariableTimeDelay_PWORK_g [ 0 ] ) [ _rtDW -> VariableTimeDelay_IWORK_k [ 1 ]
] = _rtB -> B_11_234_1872 ; ( ( real_T * ) _rtDW -> VariableTimeDelay_PWORK_g
[ 0 ] ) [ _rtDW -> VariableTimeDelay_IWORK_k [ 1 ] + _rtDW ->
VariableTimeDelay_IWORK_k [ 3 ] ] = ssGetT ( S ) ; if ( _rtDW ->
VariableTimeDelay_IWORK_h [ 1 ] < _rtDW -> VariableTimeDelay_IWORK_h [ 3 ] -
1 ) { _rtDW -> VariableTimeDelay_IWORK_h [ 1 ] ++ ; } else { _rtDW ->
VariableTimeDelay_IWORK_h [ 1 ] = 0 ; } if ( _rtDW ->
VariableTimeDelay_IWORK_h [ 0 ] == _rtDW -> VariableTimeDelay_IWORK_h [ 1 ] )
{ rt_TDelayUpdateTailOrGrowBuf ( & _rtDW -> VariableTimeDelay_IWORK_h [ 3 ] ,
& _rtDW -> VariableTimeDelay_IWORK_h [ 0 ] , & _rtDW ->
VariableTimeDelay_IWORK_h [ 1 ] , & _rtDW -> VariableTimeDelay_IWORK_h [ 2 ]
, ssGetT ( S ) - _rtP -> P_39 , ( real_T * * ) & _rtDW ->
VariableTimeDelay_PWORK_bg [ 0 ] , false , false , & _rtDW ->
VariableTimeDelay_IWORK_h [ 4 ] ) ; } ( ( real_T * ) _rtDW ->
VariableTimeDelay_PWORK_bg [ 0 ] ) [ _rtDW -> VariableTimeDelay_IWORK_h [ 1 ]
] = _rtB -> B_13_232_1856 ; ( ( real_T * ) _rtDW ->
VariableTimeDelay_PWORK_bg [ 0 ] ) [ _rtDW -> VariableTimeDelay_IWORK_h [ 1 ]
+ _rtDW -> VariableTimeDelay_IWORK_h [ 3 ] ] = ssGetT ( S ) ;
UNUSED_PARAMETER ( tid ) ; }
#define MDL_UPDATE
static void mdlUpdateTID4 ( SimStruct * S , int_T tid ) { UNUSED_PARAMETER ( tid
) ; }
#define MDL_DERIVATIVES
static void mdlDerivatives ( SimStruct * S ) { B_Copter_T * _rtB ; P_Copter_T
* _rtP ; XDot_Copter_T * _rtXdot ; X_Copter_T * _rtX ; real_T pData_idx_0 ;
real_T pData_idx_0_0 ; real_T pData_idx_1 ; real_T pData_idx_2 ; real_T
pData_idx_4 ; real_T pData_idx_4_0 ; real_T pData_idx_5 ; real_T
pData_idx_5_0 ; real_T pData_idx_6 ; real_T pData_idx_6_0 ; real_T
pData_idx_7 ; real_T pData_idx_8 ; real_T pData_idx_8_0 ; _rtXdot = ( ( XDot_Copter_T * ) ssGetdX ( S ) ) ; _rtX = ( ( X_Copter_T * ) ssGetContStates ( S ) ) ; _rtP = ( ( P_Copter_T * ) ssGetModelRtp ( S ) ) ; _rtB = ( ( B_Copter_T * ) _ssGetModelBlockIO ( S ) ) ; memset ( & _rtXdot -> uDOFEulerAngles_CSTATE [ 0 ] , 0 , 12U * sizeof ( real_T ) ) ; _rtXdot -> uDOFEulerAngles_CSTATE [ 0 ] = _rtB -> B_15_123_984 [ 0 ] / _rtP -> P_4 - ( _rtX -> uDOFEulerAngles_CSTATE [ 2 ] * _rtX -> uDOFEulerAngles_CSTATE [ 7 ] - _rtX -> uDOFEulerAngles_CSTATE [ 1 ] * _rtX -> uDOFEulerAngles_CSTATE [ 8 ] ) ; _rtXdot -> uDOFEulerAngles_CSTATE [ 1 ] = _rtB -> B_15_123_984 [ 1 ] / _rtP -> P_4 - ( _rtX -> uDOFEulerAngles_CSTATE [ 0 ] * _rtX -> uDOFEulerAngles_CSTATE [ 8 ] - _rtX -> uDOFEulerAngles_CSTATE [ 2 ] * _rtX -> uDOFEulerAngles_CSTATE [ 6 ] ) ; _rtXdot -> uDOFEulerAngles_CSTATE [ 2 ] = _rtB -> B_15_123_984 [ 2 ] / _rtP -> P_4 - ( _rtX -> uDOFEulerAngles_CSTATE [ 1 ] * _rtX -> uDOFEulerAngles_CSTATE [ 6 ] - _rtX -> uDOFEulerAngles_CSTATE [ 0 ] * _rtX -> uDOFEulerAngles_CSTATE [ 7 ] ) ; pData_idx_4 = muDoubleScalarCos ( _rtX -> uDOFEulerAngles_CSTATE [ 9 ] ) ; pData_idx_7 = muDoubleScalarSin ( _rtX -> uDOFEulerAngles_CSTATE [ 9 ] ) ; pData_idx_5 = - muDoubleScalarSin ( _rtX -> uDOFEulerAngles_CSTATE [ 9 ] ) ; pData_idx_8 = muDoubleScalarCos ( _rtX -> uDOFEulerAngles_CSTATE [ 9 ] ) ; pData_idx_0 = muDoubleScalarCos ( _rtX -> uDOFEulerAngles_CSTATE [ 10 ] ) ; pData_idx_6 = - muDoubleScalarSin ( _rtX -> uDOFEulerAngles_CSTATE [ 10 ] ) ; pData_idx_2 = muDoubleScalarSin ( _rtX -> uDOFEulerAngles_CSTATE [ 10 ] ) ; pData_idx_8_0 = muDoubleScalarCos ( _rtX -> uDOFEulerAngles_CSTATE [ 10 ] ) ; pData_idx_0_0 = 0.0 * pData_idx_2 + pData_idx_0 ; pData_idx_6_0 = 0.0 * pData_idx_8_0 + pData_idx_6 ; pData_idx_1 = ( pData_idx_0 * 0.0 + 0.0 * pData_idx_4 ) + pData_idx_7 * pData_idx_2 ; pData_idx_4_0 = pData_idx_7 * 0.0 + pData_idx_4 ; pData_idx_7 = ( pData_idx_6 * 0.0 + pData_idx_4 * 0.0 ) + pData_idx_7 * pData_idx_8_0 ; pData_idx_2 = ( pData_idx_0 * 0.0 + 0.0 * pData_idx_5 ) + pData_idx_2 * pData_idx_8 ; pData_idx_5_0 = 0.0 * pData_idx_8 + pData_idx_5 ; pData_idx_8 = ( pData_idx_6 * 0.0 + 0.0 * pData_idx_5 ) + pData_idx_8 * pData_idx_8_0 ; pData_idx_0 = muDoubleScalarCos ( _rtX -> uDOFEulerAngles_CSTATE [ 11 ] ) ; pData_idx_6 = muDoubleScalarSin ( _rtX -> uDOFEulerAngles_CSTATE [ 11 ] ) ; pData_idx_5 = - muDoubleScalarSin ( _rtX -> uDOFEulerAngles_CSTATE [ 11 ] ) ; pData_idx_4 = muDoubleScalarCos ( _rtX -> uDOFEulerAngles_CSTATE [ 11 ] ) ; _rtXdot -> uDOFEulerAngles_CSTATE [ 3 ] = ( ( ( pData_idx_0_0 * pData_idx_0 + 0.0 * pData_idx_5 ) + pData_idx_6_0 * 0.0 ) * _rtX -> uDOFEulerAngles_CSTATE [ 0 ] + ( ( pData_idx_0 * pData_idx_1 + pData_idx_5 * pData_idx_4_0 ) + pData_idx_7 * 0.0 ) * _rtX -> uDOFEulerAngles_CSTATE [ 1 ] ) + ( ( pData_idx_0 * pData_idx_2 + pData_idx_5 * pData_idx_5_0 ) + 0.0 * pData_idx_8 ) * _rtX -> uDOFEulerAngles_CSTATE [ 2 ] ; _rtXdot -> uDOFEulerAngles_CSTATE [ 4 ] = ( ( ( pData_idx_0_0 * pData_idx_6 + 0.0 * pData_idx_4 ) + pData_idx_6_0 * 0.0 ) * _rtX -> uDOFEulerAngles_CSTATE [ 0 ] + ( ( pData_idx_6 * pData_idx_1 + pData_idx_4_0 * pData_idx_4 ) + pData_idx_7 * 0.0 ) * _rtX -> uDOFEulerAngles_CSTATE [ 1 ] ) + ( ( pData_idx_6 * pData_idx_2 + pData_idx_4 * pData_idx_5_0 ) + 0.0 * pData_idx_8 ) * _rtX -> uDOFEulerAngles_CSTATE [ 2 ] ; _rtXdot -> uDOFEulerAngles_CSTATE [ 5 ] = ( ( ( 0.0 * pData_idx_1 + pData_idx_4_0 * 0.0 ) + pData_idx_7 ) * _rtX -> uDOFEulerAngles_CSTATE [ 1 ] + ( pData_idx_0_0 * 0.0 + pData_idx_6_0 ) * _rtX -> uDOFEulerAngles_CSTATE [ 0 ] ) + ( ( 0.0 * pData_idx_2 + 0.0 * pData_idx_5_0 ) + pData_idx_8 ) * _rtX -> uDOFEulerAngles_CSTATE [ 2 ] ; pData_idx_0 = ( _rtP -> P_5 [ 0 ] * _rtX -> uDOFEulerAngles_CSTATE [ 6 ] + _rtP -> P_5 [ 3 ] * _rtX -> uDOFEulerAngles_CSTATE [ 7 ] ) + _rtP -> P_5 [ 6 ] * _rtX -> uDOFEulerAngles_CSTATE [ 8 ] ; pData_idx_1 = ( _rtP -> P_5 [ 1 ] * _rtX -> uDOFEulerAngles_CSTATE [ 6 ] + _rtP -> P_5 [ 4 ] * _rtX -> uDOFEulerAngles_CSTATE [ 7 ] ) + _rtP -> P_5 [ 7 ] * _rtX -> uDOFEulerAngles_CSTATE [ 8 ] ; pData_idx_2 = ( _rtP -> P_5 [ 2 ] * _rtX -> uDOFEulerAngles_CSTATE [ 6 ] + _rtP -> P_5 [ 5 ] * _rtX -> uDOFEulerAngles_CSTATE [ 7 ] ) + _rtX -> uDOFEulerAngles_CSTATE [ 8 ] * _rtP -> P_5 [ 8 ] ; pData_idx_4 = ( ( _rtP -> P_5 [ 4 ] * _rtP -> P_5 [ 8 ] - _rtP -> P_5 [ 5 ] * _rtP -> P_5 [ 7 ] ) * _rtP -> P_5 [ 0 ] - ( _rtP -> P_5 [ 1 ] * _rtP -> P_5 [ 8 ] - _rtP -> P_5 [ 2 ] * _rtP -> P_5 [ 7 ] ) * _rtP -> P_5 [ 3 ] ) + ( _rtP -> P_5 [ 1 ] * _rtP -> P_5 [ 5 ] - _rtP -> P_5 [ 2 ] * _rtP -> P_5 [ 4 ] ) * _rtP -> P_5 [ 6 ] ; pData_idx_0_0 = ( _rtB -> B_15_126_1008 [ 0 ] - ( _rtX -> uDOFEulerAngles_CSTATE [ 7 ] * pData_idx_2 - pData_idx_1 * _rtX -> uDOFEulerAngles_CSTATE [ 8 ] ) ) - ( ( 0.0 * _rtX -> uDOFEulerAngles_CSTATE [ 6 ] + 0.0 * _rtX -> uDOFEulerAngles_CSTATE [ 7 ] ) + 0.0 * _rtX -> uDOFEulerAngles_CSTATE [ 8 ] ) ; pData_idx_5 = ( _rtB -> B_15_126_1008 [ 1 ] - ( pData_idx_0 * _rtX -> uDOFEulerAngles_CSTATE [ 8 ] - _rtX -> uDOFEulerAngles_CSTATE [ 6 ] * pData_idx_2 ) ) - ( ( _rtX -> uDOFEulerAngles_CSTATE [ 6 ] * 0.0 + _rtX -> uDOFEulerAngles_CSTATE [ 7 ] * 0.0 ) + 0.0 * _rtX -> uDOFEulerAngles_CSTATE [ 8 ] ) ; pData_idx_2 = ( _rtB -> B_15_126_1008 [ 2 ] - ( _rtX -> uDOFEulerAngles_CSTATE [ 6 ] * pData_idx_1 - pData_idx_0 * _rtX -> uDOFEulerAngles_CSTATE [ 7 ] ) ) - ( ( _rtX -> uDOFEulerAngles_CSTATE [ 6 ] * 0.0 + _rtX -> uDOFEulerAngles_CSTATE [ 7 ] * 0.0 ) + _rtX -> uDOFEulerAngles_CSTATE [ 8 ] * 0.0 ) ; _rtXdot -> uDOFEulerAngles_CSTATE [ 6 ] = ( ( _rtP -> P_5 [ 4 ] * _rtP -> P_5 [ 8 ] - _rtP -> P_5 [ 5 ] * _rtP -> P_5 [ 7 ] ) * ( 1.0 / pData_idx_4 ) * pData_idx_0_0 + - ( _rtP -> P_5 [ 3 ] * _rtP -> P_5 [ 8 ] - _rtP -> P_5 [ 5 ] * _rtP -> P_5 [ 6 ] ) * ( 1.0 / pData_idx_4 ) * pData_idx_5 ) + ( _rtP -> P_5 [ 3 ] * _rtP -> P_5 [ 7 ] - _rtP -> P_5 [ 4 ] * _rtP -> P_5 [ 6 ] ) * ( 1.0 / pData_idx_4 ) * pData_idx_2 ; _rtXdot -> uDOFEulerAngles_CSTATE [ 7 ] = ( - ( _rtP -> P_5 [ 1 ] * _rtP -> P_5 [ 8 ] - _rtP -> P_5 [ 2 ] * _rtP -> P_5 [ 7 ] ) * ( 1.0 / pData_idx_4 ) * pData_idx_0_0 + ( _rtP -> P_5 [ 0 ] * _rtP -> P_5 [ 8 ] - _rtP -> P_5 [ 2 ] * _rtP -> P_5 [ 6 ] ) * ( 1.0 / pData_idx_4 ) * pData_idx_5 ) + - ( _rtP -> P_5 [ 0 ] * _rtP -> P_5 [ 7 ] - _rtP -> P_5 [ 1 ] * _rtP -> P_5 [ 6 ] ) * ( 1.0 / pData_idx_4 ) * pData_idx_2 ; _rtXdot -> uDOFEulerAngles_CSTATE [ 8 ] = ( ( _rtP -> P_5 [ 1 ] * _rtP -> P_5 [ 5 ] - _rtP -> P_5 [ 2 ] * _rtP -> P_5 [ 4 ] ) * ( 1.0 / pData_idx_4 ) * pData_idx_0_0 + - ( _rtP -> P_5 [ 0 ] * _rtP -> P_5 [ 5 ] - _rtP -> P_5 [ 2 ] * _rtP -> P_5 [ 3 ] ) * ( 1.0 / pData_idx_4 ) * pData_idx_5 ) + ( _rtP -> P_5 [ 0 ] * _rtP -> P_5 [ 4 ] - _rtP -> P_5 [ 1 ] * _rtP -> P_5 [ 3 ] ) * ( 1.0 / pData_idx_4 ) * pData_idx_2 ; _rtXdot -> uDOFEulerAngles_CSTATE [ 9 ] = ( muDoubleScalarSin ( _rtX -> uDOFEulerAngles_CSTATE [ 9 ] ) * muDoubleScalarSin ( _rtX -> uDOFEulerAngles_CSTATE [ 10 ] ) / muDoubleScalarCos ( _rtX -> uDOFEulerAngles_CSTATE [ 10 ] ) * _rtX -> uDOFEulerAngles_CSTATE [ 7 ] + _rtX -> uDOFEulerAngles_CSTATE [ 6 ] ) + muDoubleScalarCos ( _rtX -> uDOFEulerAngles_CSTATE [ 9 ] ) * muDoubleScalarSin ( _rtX -> uDOFEulerAngles_CSTATE [ 10 ] ) / muDoubleScalarCos ( _rtX -> uDOFEulerAngles_CSTATE [ 10 ] ) * _rtX -> uDOFEulerAngles_CSTATE [ 8 ] ; _rtXdot -> uDOFEulerAngles_CSTATE [ 10 ] = ( _rtX -> uDOFEulerAngles_CSTATE [ 6 ] * 0.0 + _rtX -> uDOFEulerAngles_CSTATE [ 7 ] * muDoubleScalarCos ( _rtX -> uDOFEulerAngles_CSTATE [ 9 ] ) ) + - muDoubleScalarSin ( _rtX -> uDOFEulerAngles_CSTATE [ 9 ] ) * _rtX -> uDOFEulerAngles_CSTATE [ 8 ] ; _rtXdot -> uDOFEulerAngles_CSTATE [ 11 ] = ( muDoubleScalarSin ( _rtX -> uDOFEulerAngles_CSTATE [ 9 ] ) / muDoubleScalarCos ( _rtX -> uDOFEulerAngles_CSTATE [ 10 ] ) * _rtX -> uDOFEulerAngles_CSTATE [ 7 ] + _rtX -> uDOFEulerAngles_CSTATE [ 6 ] * 0.0 ) + muDoubleScalarCos ( _rtX -> uDOFEulerAngles_CSTATE [ 9 ] ) / muDoubleScalarCos ( _rtX -> uDOFEulerAngles_CSTATE [ 10 ] ) * _rtX -> uDOFEulerAngles_CSTATE [ 8 ] ; _rtXdot -> TransferFcn_CSTATE = 0.0 ; _rtXdot -> TransferFcn_CSTATE += _rtP -> P_51 * _rtX -> TransferFcn_CSTATE ; _rtXdot -> TransferFcn_CSTATE += _rtB -> B_15_110_880 ; _rtXdot -> TransferFcn_CSTATE_i = 0.0 ; _rtXdot -> TransferFcn_CSTATE_i += _rtP -> P_53 * _rtX -> TransferFcn_CSTATE_i ; _rtXdot -> TransferFcn_CSTATE_i += _rtB -> B_15_107_856 ; _rtXdot -> TransferFcn_CSTATE_h = 0.0 ; _rtXdot -> TransferFcn_CSTATE_h += _rtP -> P_55 * _rtX -> TransferFcn_CSTATE_h ; _rtXdot -> TransferFcn_CSTATE_h += _rtB -> B_15_113_904 ; _rtXdot -> TransferFcn_CSTATE_i0 = 0.0 ; _rtXdot -> TransferFcn_CSTATE_i0 += _rtP -> P_57 * _rtX -> TransferFcn_CSTATE_i0 ; _rtXdot -> TransferFcn_CSTATE_i0 += _rtB -> B_15_116_928 ; _rtXdot -> TransferFcn_CSTATE_o = 0.0 ; _rtXdot -> TransferFcn_CSTATE_o += _rtP -> P_59 * _rtX -> TransferFcn_CSTATE_o ; _rtXdot -> TransferFcn_CSTATE_o += _rtB -> B_15_119_952 ; _rtXdot -> TransferFcn_CSTATE_p = 0.0 ; _rtXdot -> TransferFcn_CSTATE_p += _rtP -> P_61 * _rtX -> TransferFcn_CSTATE_p ; _rtXdot -> TransferFcn_CSTATE_p += _rtB -> B_15_122_976 ; }
#define MDL_PROJECTION
static void mdlProjection ( SimStruct * S ) { X_Copter_T * _rtX ; real_T
newangle ; _rtX = ( ( X_Copter_T * ) ssGetContStates ( S ) ) ; newangle =
_rtX -> uDOFEulerAngles_CSTATE [ 9 ] ; if ( muDoubleScalarAbs ( _rtX ->
uDOFEulerAngles_CSTATE [ 9 ] ) > 3.1415926535897931 ) { newangle =
muDoubleScalarRem ( _rtX -> uDOFEulerAngles_CSTATE [ 9 ] , 6.2831853071795862
) - trunc ( muDoubleScalarRem ( _rtX -> uDOFEulerAngles_CSTATE [ 9 ] ,
6.2831853071795862 ) / 3.1415926535897931 ) * 6.2831853071795862 ; } _rtX ->
uDOFEulerAngles_CSTATE [ 9 ] = newangle ; newangle = _rtX ->
uDOFEulerAngles_CSTATE [ 10 ] ; if ( muDoubleScalarAbs ( _rtX ->
uDOFEulerAngles_CSTATE [ 10 ] ) > 3.1415926535897931 ) { newangle =
muDoubleScalarRem ( _rtX -> uDOFEulerAngles_CSTATE [ 10 ] ,
6.2831853071795862 ) - trunc ( muDoubleScalarRem ( _rtX ->
uDOFEulerAngles_CSTATE [ 10 ] , 6.2831853071795862 ) / 3.1415926535897931 ) *
6.2831853071795862 ; } _rtX -> uDOFEulerAngles_CSTATE [ 10 ] = newangle ;
newangle = _rtX -> uDOFEulerAngles_CSTATE [ 11 ] ; if ( muDoubleScalarAbs ( _rtX
-> uDOFEulerAngles_CSTATE [ 11 ] ) > 3.1415926535897931 ) { newangle =
muDoubleScalarRem ( _rtX -> uDOFEulerAngles_CSTATE [ 11 ] ,
6.2831853071795862 ) - trunc ( muDoubleScalarRem ( _rtX ->
uDOFEulerAngles_CSTATE [ 11 ] , 6.2831853071795862 ) / 3.1415926535897931 ) *
6.2831853071795862 ; } _rtX -> uDOFEulerAngles_CSTATE [ 11 ] = newangle ; }
static void mdlInitializeSizes ( SimStruct * S ) { ssSetChecksumVal ( S , 0 ,
323942005U ) ; ssSetChecksumVal ( S , 1 , 613739736U ) ; ssSetChecksumVal ( S
, 2 , 4250557627U ) ; ssSetChecksumVal ( S , 3 , 497981013U ) ; { mxArray *
slVerStructMat = ( NULL ) ; mxArray * slStrMat = mxCreateString ( "simulink"
) ; char slVerChar [ 10 ] ; int status = mexCallMATLAB ( 1 , & slVerStructMat
, 1 , & slStrMat , "ver" ) ; if ( status == 0 ) { mxArray * slVerMat =
mxGetField ( slVerStructMat , 0 , "Version" ) ; if ( slVerMat == ( NULL ) ) {
status = 1 ; } else { status = mxGetString ( slVerMat , slVerChar , 10 ) ; }
} mxDestroyArray ( slStrMat ) ; mxDestroyArray ( slVerStructMat ) ; if ( ( status == 1 ) || ( strcmp ( slVerChar , "25.1" ) != 0 ) ) { return ; } } ssSetOptions ( S , SS_OPTION_EXCEPTION_FREE_CODE ) ; if ( ssGetSizeofDWork ( S ) != ( SLSize ) sizeof ( DW_Copter_T ) ) { static char msg [ 256 ] ; snprintf ( msg , 256 , "Unexpected error: Internal DWork sizes do " "not match for accelerator mex file (%ld vs %lu)." , ( signed long ) ssGetSizeofDWork ( S ) , ( unsigned long ) sizeof ( DW_Copter_T ) ) ; ssSetErrorStatus ( S , msg ) ; } if ( ssGetSizeofGlobalBlockIO ( S ) != ( SLSize ) sizeof ( B_Copter_T ) ) { static char msg [ 256 ] ; snprintf ( msg , 256 , "Unexpected error: Internal BlockIO sizes do " "not match for accelerator mex file (%ld vs %lu)." , ( signed long ) ssGetSizeofGlobalBlockIO ( S ) , ( unsigned long ) sizeof ( B_Copter_T ) ) ; ssSetErrorStatus ( S , msg ) ; } { int ssSizeofParams ; ssGetSizeofParams ( S , & ssSizeofParams ) ; if ( ssSizeofParams != sizeof ( P_Copter_T ) ) { static char msg [ 256 ] ; snprintf ( msg , 256 , "Unexpected error: Internal Parameters sizes do " "not match for accelerator mex file (%d vs %lu)." , ssSizeofParams , ( unsigned long ) sizeof ( P_Copter_T ) ) ; ssSetErrorStatus ( S , msg ) ; } } _ssSetModelRtp ( S , ( real_T * ) & Copter_rtDefaultP ) ; } static void mdlInitializeSampleTimes ( SimStruct * S ) { { SimStruct * childS ; SysOutputFcn * callSysFcns ; childS = ssGetSFunction ( S , 0 ) ; callSysFcns = ssGetCallSystemOutputFcnList ( childS ) ; callSysFcns [ 3 + 0 ] = ( SysOutputFcn ) ( NULL ) ; childS = ssGetSFunction ( S , 1 ) ; callSysFcns = ssGetCallSystemOutputFcnList ( childS ) ; callSysFcns [ 3 + 0 ] = ( SysOutputFcn ) ( NULL ) ; childS = ssGetSFunction ( S , 2 ) ; callSysFcns = ssGetCallSystemOutputFcnList ( childS ) ; callSysFcns [ 3 + 0 ] = ( SysOutputFcn ) ( NULL ) ; childS = ssGetSFunction ( S , 3 ) ; callSysFcns = ssGetCallSystemOutputFcnList ( childS ) ; callSysFcns [ 3 + 0 ] = ( SysOutputFcn ) ( NULL ) ; childS = ssGetSFunction ( S , 4 ) ; callSysFcns = ssGetCallSystemOutputFcnList ( childS ) ; callSysFcns [ 3 + 0 ] = ( SysOutputFcn ) ( NULL ) ; childS = ssGetSFunction ( S , 5 ) ; callSysFcns = ssGetCallSystemOutputFcnList ( childS ) ; callSysFcns [ 3 + 0 ] = ( SysOutputFcn ) ( NULL ) ; childS = ssGetSFunction ( S , 6 ) ; callSysFcns = ssGetCallSystemOutputFcnList ( childS ) ; callSysFcns [ 3 + 0 ] = ( SysOutputFcn ) ( NULL ) ; childS = ssGetSFunction ( S , 7 ) ; callSysFcns = ssGetCallSystemOutputFcnList ( childS ) ; callSysFcns [ 3 + 0 ] = ( SysOutputFcn ) ( NULL ) ; childS = ssGetSFunction ( S , 8 ) ; callSysFcns = ssGetCallSystemOutputFcnList ( childS ) ; callSysFcns [ 3 + 0 ] = ( SysOutputFcn ) ( NULL ) ; childS = ssGetSFunction ( S , 9 ) ; callSysFcns = ssGetCallSystemOutputFcnList ( childS ) ; callSysFcns [ 3 + 0 ] = ( SysOutputFcn ) ( NULL ) ; childS = ssGetSFunction ( S , 10 ) ; callSysFcns = ssGetCallSystemOutputFcnList ( childS ) ; callSysFcns [ 3 + 0 ] = ( SysOutputFcn ) ( NULL ) ; childS = ssGetSFunction ( S , 11 ) ; callSysFcns = ssGetCallSystemOutputFcnList ( childS ) ; callSysFcns [ 3 + 0 ] = ( SysOutputFcn ) ( NULL ) ; childS = ssGetSFunction ( S , 12 ) ; callSysFcns = ssGetCallSystemOutputFcnList ( childS ) ; callSysFcns [ 3 + 0 ] = ( SysOutputFcn ) ( NULL ) ; childS = ssGetSFunction ( S , 13 ) ; callSysFcns = ssGetCallSystemOutputFcnList ( childS ) ; callSysFcns [ 3 + 0 ] = ( SysOutputFcn ) ( NULL ) ; } slAccRegPrmChangeFcn ( S , mdlOutputsTID4 ) ; } static void mdlTerminate ( SimStruct * S ) { }
#include "simulink.c"
